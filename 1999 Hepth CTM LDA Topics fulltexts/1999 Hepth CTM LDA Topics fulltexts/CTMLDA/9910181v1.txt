9
9
9
1

 
t
c
o
2
2

 

 
 

1
v
1
8
1
0
1
9
9
/
h
t
-
p
e
h
:
v
i
x
r
a

m-theory, topological strings and

spinning black holes

sheldon katz, albrecht klemm and cumrun vafa

department of mathematics, oklahoma state university, stillwater, ok 74078, usa

institute for advanced study, princeton, nj 08540, usa

jeerson laboratory of physics, harvard university, cambridge, ma 02138, usa

abstract

we consider m-theory compactication on calabi-yau threefolds. the recently dis-

covered connection between the bps states of wrapped m2 branes and the topological

string amplitudes on the threefold is used both as a tool to compute topological string

amplitudes at higher genera as well as to unravel the degeneracies and quantum numbers

of bps states. moduli spaces of k-fold symmetric products of the wrapped m2 brane play

a crucial role. we also show that the topological string partition function is the calabi-yau

version of the elliptic genus of the symmetric product of k3s and use the macroscopic en-

tropy of spinning black holes in 5 dimensions to obtain new predictions for the asymptotic

growth of the topological string amplitudes at high genera.

hutp-99/a056, iassns-hep-98/107, osu-m-99-9

email: katz@math.okstate.edu, klemm@ias.edu, vafa@string.harvard.edu

table of contents

1. introduction

2. topological strings (a-model)

2.1 the genus 0 contribution

2.2 the genus 1 contribution

2.3 the constant map contribution

3. m-theory/type iia interpretation of the fr

3.1 the new invariants

3.2 the higher genus contributions

4. computation of nr
d

4.1 computational scheme for nr
d

5. considerations of enumerative geometry

5.1 alternative interpretation of the nr
d

6. application to counting m 2 branes in k3  t 2

6.1 zero winding on the t 2

6.2 more general h2 classes in k3  t 2

7. black hole entropy and topological string

8. computations in local calabi-yau geometries

8.1 basic concepts

8.2 o(1)  o(1)  p1
8.3 local p2: o(3)  p2
8.4 local p1  p1: o(k)  p1  p1
8.5 other local del pezzo geometries e5, e6, e7 and e8

8.6 the topological string perspective

1

table of contents (continued)

9. computations in compact calabi-yau geometries

9.1 compact one modulus cases

9.2 higher genus results on the quintic

9.3 the sextic, the bicubic and four conics

10. appendix a: low degree classes on the del pezzo surfaces

11. appendix b: b-model expression for fr

2

1. introduction

the study of calabi-yau threefolds has been a source of many new ideas in string

theory. not only they are useful as building blocks of various string compactications, but

they also provide interesting examples of exactly computable quantities in string theory. in

particular they correspond to the critical dimension for the (n = 2) topological string.

topological strings, roughly speeking, count the number of holomorphic curves inside

the calabi-yau. as such, one would expect that they should correspond to the partition

function of m2 (or d2)-branes wrapped around them. the connection at rst sight seems

somewhat confusing: the topological string amplitudes exist for each genus, whereas the

m2 brane (or d2 brane) degeneracies only care about the charge and not the genus of the

curve representing it. it turns out, as discovered in [1], that the genus dependence of the

topological string amplitudes captures the su (2)l representation content of bps states
corresponding to wrapped m2 branes upon compactications of m-theory on calabi-yau

threefolds. here su (2)l denotes a subgroup of the so(4) rotation group in 5 dimensions.
this identication was based on the target space interpretation of what the topological

string computes [2][3] and the contribution of bps states to such terms (using a schwinger

1-loop computation) [4].

topological string amplitudes at genus 0 can be computed using mirror symmetry

[5]. for higher genera, mirror symmetry is still a powerfull principle and can be used to

compute the amplitudes up to a nite number of undetermined constants at each genus

[2]. fixing the constant is called xing the holomorphic ambiguity, and for the certain

cases they were xed for genus 1 and genus 2 in [6][2]. the number of unknown constants

grows with the genus. in certain cases one can use direct a-model localization [7] to x

these constants and in particular checking the integrality properties of topological string
partition functions, anticipated in [1], at higher g  5.

in this paper we wish to use the reformulation of topological string amplitudes as a

computation of bps states in m-theory compactications [1] to make progress in explicit

computations of topological strings at higher genera. the reorganization this introduces

into topological string amplitudes is to x the bps charge and consider all allowed genera of

the m2 brane at the same time. for a given degree, there typically is a highest genus curve
embedded in the 3-fold which realizes that class1 . one then studies the moduli space

1 this highest genus is the arithmetic genus which we will often denote by g. the genus g topo-
logical string amplitude usually denoted fg has contributions from curves of dierent arithmetic

genera. if the distinction is important we use the label r and write fr etc.

3

of that curve, together with the at bundle over it. understanding of the cohomology

of this moduli space and the su (2)l action on it, will in particular determine the bps
degeneracy and its su (2)l quantum numbers. this in particular aects the topological
string amplitudes for all fr with r  g in a well dened way. the main aim of our paper
is to develop techniques that at least in some cases allows us to extract from the geometry

of this moduli space the su (2)l action on its cohomology. we relate the degeneracies for
a xed su (2)l spin, and in particular its contribution to fr, to the euler characteristic of
the  = g  r fold symmetric product of the holomorphic curves in the calabi-yau 3-fold
and to higher fks (r < k  g). for  suciently small this space is smooth and its euler
characteristic can be computed. for  too big, in general this space is not smooth and the

computation of its euler characteristic requires more care. we will consider examples of

both types. we also use these results to x the holomorphic ambiguities for higher genera

in some examples (and in particular we push up the computation of topological strings to

higher genera).

we will also discuss the connection of topological string amplitudes and the entropy

calabi-yau.

of spinning black holes corresponding to m 2 branes wrapped over large cycles in the
in particular we see how in the case of k3  t 2 the elliptic genus of the
symmetric product of k3s predicts complete answers to the su (2)l action on the moduli
spaces that we study. for a general calabi-yau threefold, we see how the black hole entropy

predicts new growth properties for the topological string amplitudes at higher genera that

would be interesting to verify.

the organization of this paper is as follows: in section 2 we review the denition and

some results related to a-model topological strings. in section 3 we review the denition of

some of the new invariants which allows one to rewrite topological string amplitudes using

integral data. in section 4 we show how the new invariants can be eectively computed

in certain cases. in section 5 we show that the same invariants can also be computed in

a dierent way and be given a related geometric interpretation. in section 6 we show in
the case of k3 t 2 how the elliptic genus of symmetric products of k3 captures the bps
degeneracies of a wrapped m2 brane and show how our methods can predict some of these

results. in section 7 we use predictions of macroscopic entropy of black holes to estimate

the growth of topological string amplitudes for high genera.

in section 8 we give some

examples involving non-compact calabi-yau 3-folds and show how our methods work in

those cases. in section 9 we do the same, but in the context of compact cy 3-folds. in

appendix a we discuss some aspects of del pezzo surfaces and in appendix b we discuss

some aspects of b-model topological strings.

4

2. topological strings (a-model)

in topological string theory (a-model) one considers maps from a riemann surface 

of genus g to a manifold which in the case of interest in this paper we take to be a calabi-

yau threefold x. the partition function depends only on the complexied kahler moduli
of x denoted by (ti, ti). in the limit whereby one xes ti and takes the limit ti  , a
holomorphic anomaly decouples, and the theory becomes purely topological. in particular,

in this limit the fr(ti) are obtained by considering holomorphic maps from the riemann

surface to x. roughly speaking one has

fr(ti) = xhol.mapf :x

exp(z

f(k))

where k is the kahler class on x and f(k) is its pullback to . the above formula is
not quite general because often holomorphic maps come in families. in these cases the

sum is replaced by an integral over the moduli space of holomorphic maps representing

some top characteristic class on the moduli space. more precisely, in the special case of

calabi-yau threefolds that we are considering the formal dimension of the moduli space

of maps is zero and when there is a moduli space of maps there is an equal dimensional

space corresponding to a cokernel of a bundle map. thus the cokernel vector space forms

a bundle on the moduli space of curves whose euler class enters the relevant topological

computation which enters in the above formula (for a more precise mathematical denition
and a review of the subject see [5]).2 the result of such integrals for each xed topological

class of the image curve in x is known as the gromov-witten invariants. in other words

one can write

fr(ti) =xdi

fr,dexp(diti)

where di denotes the homology class of the image curve in terms of some basis for h2(x, z)

and fr,d are the gromov-witten invariants. since in most cases of interest the computation

of fr,n involves integrals over moduli spaces, there is a priori no reason for them to be

integers, as they are not counting the number of holomorphic curves. however some

surprising integrality properties have already been observed for small genus which we

will review below. from the viewpoint of the topological string this integrality is very

2 strictly speaking, the obstruction spaces need not form a bundle, and there can be a virtual

fundamental class in place of an euler class.

5

surprising and has not been explained. an explanation of the observed integrality and

its generalization to all genera has been found in [1] based on m-theory/type iia duality
which recasts gromov-witten invariants in terms of some new integral invariants nr
d. in
this section we rst review some aspects of topological strings. we then review the results

of [1] in section 3.

2.1. the genus 0 contribution

let lir(x) = pk=1 krxk,
x(cid:1)r
(cid:0)r dx

log(1  x) then [8] gives a formal expansion

dx(cid:1)r
i.e. lir(x) = (cid:0)x d
+ tzx
xd=1

(3) +

c2j +


2

f0 =

k0t3

3!

log(1  x) and lir(x) =

d li3(qd) .
n0

(2.1)

here k0 is the classical triple intersection number on x, which comes from the degree zero
maps.

the curve counting function in genus zero is kttt = (t)3f0 = k0 +pd=1 kdqd. by

(2.1), kd is related to the n0

d by

k d =xn|d

d/n

n0
n3 .

(2.2)

it was observed that in this way of writing the gromov-witten invariants the n0
d are integers
[8] for the case of the quintic in p4 at least for degrees up to 10. this was later extended
to all d which are not multiples of 5. 3 an explanation of this integrality was suggested

in [8] as counting the number of rational holomorphic curves in calabi-yau space. this

was further supported by the fact that it was shown in [9] that the n fold covering of an
isolated holomorphic curve of degree d gives a contribution of 1/n3 to the gromov-witten
invariant for degree dn in perfect accord with (2.2). however the interpretation of n0
d
as counting holomorphic rational curves in x is in general not the right interpretation.

in particular a counter-example occurs even for isolated curves in the quintic. in [10] a
contribution of n0
at degree ve n0

5, nod = 17, 601, 000 plane curves with six nodes to total number of curves
5 = 229, 305, 888, 887, 625 was found. there are three contributions to k 10:
degree 10 curves, double covers of degree 5 curves, and additional integer contributions

for double covers of the 6-nodal curves corresponding to double covers with 2 components.

3 lian and yau also proved integrality of the coecients of the mirror map for the quintic, and

in all the applications to toric hypersurfaces no non-integer n0

d ever appeared.

6

5 smooth for the smooth d = 5 curves but (6 + 1

correspondingly for each double covering of a nodal curve there is a higher dimensional
stratum and six points in m0,0(x, 10) [5]. the contribution of the higher dimensional
strata to the degree 10 curves must therefore be calculated by a virtual fundamental
class calculation, which yields the usual 1
23 and so the double covering contribution is
1
23  n0
5 nod for the nodal ones. that
means that the number4 of degree 10 curves on the quintic is not given by n0
10, but rather
1000  n0
by n10 = k 10  n0
5, nod, see example 7.4.4.1 and theorem 9.2.6 in
[5]. in particular n0
10 as dened in (2.2) has no interpretation as a number of curves,
and there is currently no known mathematical reason to expect it to be integer! one aim
of this paper is to outline a physically motivated geometrical denition of the nr
d, which

8  6n0

23 )  n0

1

2

125  n0

5

makes the integrality manifest.

more generally, let c  x be a suciently general smooth curve of genus g satisfying
appropriate genericity hypotheses. then cg(h, d) denotes the contribution to fg+h of
maps whose image is c whose image has class d[c]. it is not yet clear if this notion is
well-dened for g  2.

extending [9] faber and pandharipande [11] prove that the multicover contribution

c0(h, d) of a p1 is described by

c0(g, d) = gd2g3 = |b2g|d2g3
2g(2g  2)!

with 0 = 1, 1 =

1
12

.

(2.3)

here (mg) = |b2g|
2g(2g2)! is the harer-zagier formula for the orbifold euler characteristic
of mg in complete accordance with the predictions of m-theory [1] which will be discussed
later.

2.2. the genus 1 contribution

for r = 1 the situation is more interesting. the localization [11] gives

c1(0, d) =

1(d)

d

, c1(h, d) = 0 (h > 0).

(2.4)

there is no bubbling contributions of genus 1 curves to higher genus curves, i.e. c1(h, d) = 0
for h > 0 in accordance with the above and the zero-mode analysis in [6]. this is a feature

one nds in the m-theory approach discussed in the next section.

4 we assume that there are nitely many curves (clemens conjecture). n10 could still contain

multiplicity factors for certain curves.

7

however the form discussed in the next section (which is most natural from the m-

theory perspective) is (up to the t-terms)

f1 =

tr c2j

24

+

xd=1(cid:18) 1

12

n0
d + n1

d(cid:19) li1(qd) .

(2.5)

here, n1

d is an invariant of certain bps states typically associated to wrapping m2 branes
around degree d elliptic curves e. this diers from the geometric substraction scheme

(2.4), as it does not subtract all the multicovering maps from the torus to itself in the
denition of the n1
d, but instead subtracts 1/d for the class d[e]. substraction of these
would yield5 [6]

f1 =

tr c2j

24

+

xd=1(cid:18) 1

12

n0
dli1(qd) + n1

d log (qd)(cid:19)

(2.6)

where n1
d corresponds to elliptic curves rather than bps states. the reason for adding
back in the multicover contributions is discussed from the bps perspective in the next

section.

comparing (2.5) with (2.6)

and keeping in mind the denition 1(n)
of charge d[e] is n1

1
k , we see that the number of bps states

m as expected from adding up all bound states.

n1
d

1(n)

n

qnd

xd,n
d =pm|d n1

n1
d
n

qdn =xd,n
n =pk|n

2.3. the constant map contribution

we can compute for arbitrary genus in the simple case when the holomorphic maps

from the riemann surface to x are just the constant maps. this is already a case where

there is a moduli space of such maps. if the degree of the map f is 0 its moduli space

splits into

mg,n(x, 0)  mg,n  x

(2.7)
where mg,n in this case corresponds to moduli space of genus g domain curves. the
relevant gromov-witten invariant in this case is given by 1
c3
g1(h) [2] where
e(x) denotes the euler characteristic of x and h denotes the hodge bundle (coming from

2 e(x)rmg

5 the genus zero contribution follows from (2.3) in both cases.

8

the space of holomorphic one forms on the riemann surface) over the moduli space. for

the hodge integrals involved in the above formula a closed formula was recently proven in

[11]

following the approach of [12][13][14], which yields

g,0 = (1)g 

h1ix

2zmg

g1 = (1)g 
3

2

|b2gb2g1|

2g(2g  2)(2g  2)!

.

(2.8)

as we will review this is in perfect agreement with the prediction for constant map con-

tribution from the viewpoint of duality of type iia and m-theory [1].

3. m-theory/type iia interpretation of the fr

recently a series of integer invariants nr

for each calabi-yau three-
fold x, labeled by a degree d  h2(x, z) and a positive integer r. their denition was
motivated by consideration of m-theory on calabi-yau threefolds. the topological signif-

d were dened [1]

icance of these new invariants is that they can be used to rewrite fr in terms of them. in

particular they explain the integrality properties of fr for all r and reproduce the expected

integrality properties for r = 0, 1.

the denition of these invariants was motivated by consideration of the spectrum

of bps states in m-theory compactication on calabi-yau 3-fold. the spectrum in turn

(in simple situations) can be computed by considering a certain su (2) action on the

cohomology of the moduli space of holomorphic curves in a calabi-yau x together with a

at bundle. we will now review the denition of these integral invariants.

3.1. the new invariants

the invariants dened in [1] are given as follows: consider m-theory on a calabi-yau

threefold x. thise gives an n = 2 theory in d = 5. this theory has b2(x) gauge elds.

the states in d = 5 are labeled in particular by the charge under these u (1)s, which
thus correspond to an integral element d  h2(x, z). fix the subsector of the hilbert
space with charge d and consider all states in this sector which are bps states. these

arise in m-theory by considering m2 branes in x wrapped around supersymmetric cycles

in the class given by d. in particular their mass is xed by the kahler class of x and is

given by diti. the bps state in addition is labeled by how it transforms under the spatial
rotation group in 4 + 1 dimensions which is so(4), or more precisely su (2)l  su (2)r.

9

in particular we can write the degeneracy of the bps states together with their so(4)

quantum numbers as

(cid:20)(cid:18) 1

2

, 0(cid:19)  2(0, 0)(cid:21)  mjl,jr

n d

jl,jr [(jl, jr)].

(3.1)

the numbers n d
jl,jr denote the number of bps states with charge represented by the class
d and with su (2)l  su (2)r representation given by the rerpresentation (jl, jr), where
jl, jr  (1/2)z and denote the spin of the representations.

the number of bps states is not an invariant of the theory and it can jump. two

(short) bps multiplets can join and become a (long) non bps multiplet. for example,
changing the complex structure of the calabi-yau x will change the numbers n d
jl,jr.
in other words, if we

however, the left index of the representation does not change.

consider the degeneracies with respect to su (2)l and sum over all su (2)r quantum
numbers multiplied by (1)2jr = (1)fr, then this weighted sum of left representations
does not change. 6 it is more useful for comparison with topological strings to choose a

dierent basis for the su (2)l representations. let

ir = [(

1
2

) + 2(0)]r.

using this basis, the procedure is

n d

jl,jr[(jl, jr)] x n d

jl,jr(1)2jr(2jr + 1)[(jl)] =xr

nr

dir

(3.2)

the above equation denes the invariants nr

d which appear in the partition function of the

topological string. according to [1] we have:

f =

xr=0

2r2fr =

xr=0xd=0

m=1

nr
d

1

m(cid:18)2 sin

m

2 (cid:19)2r2

qdm.

(3.3)

6 there are well known examples, e.g. [15], where the individual right spin content changes
under complex structure deformation. consider a p1 bered over a genus g curve cg. the right

leshetz decomposition of the base m = cg is(cid:2) 1

2(cid:3) + 2g[0]. vanishing complex volume of the p1

corresponds to a special value on the coulomb branch  = 0 with a su (2) gauge enhancement

and g hypermultiplets in the adjoint representation. higgsing w.r.t. to the diagonal components

of the hypers corresponds to a complex structure deformation and breaks the gauge group to u (1)
and 2g  2 charged hypers, which geometrically corresponds to a splitting of the p1 bration into
2g  2 isolated p1s, whose right spin content is (2g  2)[0].

10

the argument leading to this identication is that the topological string can be viewed as
2r2 amplitudes in four dimensions upon considering type iia
compactication on the calabi-yau. here r+ and f+ denote self-dual parts of the rie-

computingp frr2

+f 2r2

+

mann tensor and graviphoton eld strength, respectively [2][3]. then a 1-loop schwinger

computation as in [4] with the bps states running around the loop relates the bps content
of states in 5-dimensional m-theory to corrections to r2

amplitudes. the appear-

+f 2r2

+

ance of the extra sum over m in (3.3) is related to the momentum a bps state in 5

dimensions can have when compactied on a circle down to 4 dimensions. these appear

as multi-cover contributions in the topological string context, as rst noticed for the case
of genus 0 by [16]. the term (2 sin m
2 )2r in the above formula arises from computation of
tr(1)2jl+2jr exp(2imj 3
l is one of the generators of
su (2)l.

l) in the ir representation, where j 3

3.2. the higher genus contributions

expanding (3.3) gives back (2.1), i.e. the naive multicovering formula (2.2) for the

rational curves, which rst was empirically observed in [8]. of course the physical picture
relates the integers nr

d naturally to the number of bps states. note also that with the
-function renormalization one gets the well known [17] subleading contribution to the

genus zero pre-potential (x)(3)/2 from (2.7)(3.3).

using r = 0, 1 as a model, we can try to recursively dene nr

d by

k r

d =xk|d

hr

nh
kch(g  h,

d
k

),

where k r
taken in [5] for r = 0, 1; there the numbers nr

d are the gromov-witten invariants dened by fr =p k r

dqd. this is the approach
d are called instanton numbers (see [5] for a

precise version of the integrality conjecture for r = 0).

for the elliptic curve t 2 and any n, we can consider n d2 branes wrapped on t 2.

in this case as discussed in [1] to count the number of bps states we should consider the
moduli space of stable rank n bundles on t 2. there are indecomposable (semi)stable u (n)
bundles over t 2, which corresponds to a bps bound state of n d2 branes wrapping t 2

(the corresponding space for genus 0 is empty which is why we do not have bound states

of n d2 branes on a genus 0 curve). this explains the scheme used in the previous section

in dening the bps numbers for genus 1.

11

for the genus 2,3 expansion we have

f2 =



f3 = 

1451520



+

+

5760

xd=1(cid:18) 1
xd=1(cid:18) 1
xd=1(cid:18) |b2r|n0

2r(2r  2)!

6048

d

+

and similarly for higher genus

fr =

(1)r|b2rb2r2|
4r(2r  2)!(2r  2)

+

n0
d + n2

d(cid:19) li1(qd)

240

n0
d 

1
12

d + n3
n2

d(cid:19) li3(qd)

(3.4)

(3.5)

d

2(1)rn2
(2r  2)! . . .

r  2
12

nr1
d + nr

d(cid:19)li32r

(3.6)

there is a subtlety for g > 2 in that n d2 brane bound states can deform o the

supporting genus g curve. this is briey discussed in [1] and is a topic for further study.

4. computation of nr
d

the identity (3.3) reexpresses topological string amplitudes in terms of integral quan-
d dened in terms of the bps spectrum of m-theory on calabi-yau threefolds
d this would

tities nr
according to (3.2). if one nds a simple way to compute the new invariants nr

translate to a practical method of computing topological string amplitudes.

in [1] it was shown how one goes about computing nr

d (at least in certain good cases).
the basic idea is to consider the moduli space of m 2 branes, which gets translated using

m-theory/iia duality to the study of certain aspects of moduli space of d2 branes. one

considers supersymmetric d2 branes whose class in x is given by [d2] = d. the moduli

space of such congurations is given, in addition to the embedding of the d2 brane, by

the choice of a at bundle on the brane. in general if we have n coincident branes, we

will have to consider also the moduli of at u (n ) bundles in addition to the moduli of the

embeddings of the d2 branes. let us consider the simple case where we have a single d2

brane in class d and let us denote by cm the moduli space of holomorphic curves in x in

class d, together with the choice of the at bundle on the riemann surface. let m denote
the moduli space of holomorphic curves in class d, without the choice of the at bundle.

then we have a map

let us assume that generically the riemann surface has genus g. then the above map
has generically a ber which is t 2g, i.e. the jacobian of the riemann surface. however

cm  m

12

generally speaking there are loci where the genus g surface become singular. for example

it can develop nodes by having some pinched cycles. similarly the jacobian torus becomes

singular in this limit.7 nevertheless, one expects the total space cm to be smooth (similar

to description of elliptic bration of k3 where the bration becomes singular at 24 points,

but the k3 is smooth). because of this smoothness, for many questions it is possible

to treat the above bration as if there are no degenerate bers. in particular, consider
the integral (1,1) form k corresponding to the ber t 2g (usually denoted on each non-
degenerate ber by k|f iber =  = dz(im1)dz). we will assume, as is the case with

smooth jacobian varieties, that k makes sense as an integral (1,1) class in cm.

consider the cohomology of the manifold cm. these will correspond to bps states in

m-theory compactication. moreover the su (2)l quantum numbers get morally identied
with the sl(2) lefschetz decomposition in the ber direction (i.e. using k as a raising op-

erator) and the su (2)r quantum numbers get morally identied with the sl(2) lefschetz
decomposition in the base direction (i.e. using the kahler form on the base). in other

words we have [1]:

h(cm) =x n d

j1,j2[jf iber

1

, jbase

2

]

(4.1)

from which we can read o nr

d according to (3.2). there are precise statements that can

be made: the usual lefschetz decomposition of the cohomology cm is identied with the
diagonal sl(2)  sl(2)f iber  sl(2)base, and the su (2)r content of the highest left spin
is identied with the lefschetz decomposition of h(m).

there are two particularly easy cases to compute from the above denition, namely:

ng
d = (1)dim me(m)
n0

d = (1)dim bme(cm)

(4.2)

where e(...) denotes the euler characteristic of the space. the relations follow from the

denition of what the double lefschetz action is. as we will demonstrate in the next
section, the other non-vanishing ns, i.e. the nr
d for 0 < r < g can also be related to

particular combinations of euler characteristics of certain subspaces in cm. sometimes we

will write r = g   where  is a positive integer less than or equal to g.

the existence of such a double lefschetz decomposition is expected from the m-theory

description of the bps states in 5 dimensions and so it should be possible to rigorize the

existence of the above double sl(2) decomposition of the cohomology of cm. however

7 more precisely, the compactied jacobian becomes singular in this limit.

13

here we would like to get the new invariants with the minimal amount of assumptions

computation of nr

about the properties of cm. as we will discuss in the next section all we really need for
d is the existence of a smooth manifold cm and an integral (1,1) class k

which on smooth bers is the canonical (1, 1) class on the jacobian torus. this will also
lead to a simple formulation for the computation of all nr

d in terms of euler characteristics

of relative hilbert schemes, which are frequently easy to compute.

4.1. computational scheme for nr
d

as is clear from (4.1) and (3.2) all we need to compute the nr

in the ber direction. we will see that in fact we can compute nr

d is the lefschetz action
d without this assumption

in a reasonably general setting.

for each point on the base m let c denote the corresponding riemann surface and
j (c) its jacobian. the riemann surface together with the choice of p points on it, is
what is called the hilbert scheme of p points on c, and denoted by hilbp(c). we have

the abel-jacobi mapping [18]:

fp : hilbp(c)  j (c)

(4.3)

whose image is denoted by wp. we can relate the cohomology of wp to the cohomologies
of both hilbp(c) and j (c), thereby relating these two cohomologies directly.

we have the map h(wp)  h(j (c)), which by poincare duality is identied with
a map i : h(wp)  h(j (c)) whose image we wish to compute. let   h 1,1(j (c)) be
the cohomology class of the zero locus of the theta function on j (c). since the image wp
of fp is dual to gp/(g  p)![18], the composition of the restriction map r : h(j (c)) 
h(wp) with i is (up to the constant which we ignore) just the multiplication map

gp : h(j (c))  h(j (c)).

since there is also a map fp : h(wp)  h(hilbp(c)), we expect to be able to relate
h(hilbp(c)) with the image of gp.

here is our strategy. once we understand this relation, we consider varying the point

on the base m. in this way the abel-jacobi map fp gets promoted to a map

fp : c(p)  cm.

14

(4.4)

here c(p) denotes the moduli space of holomorphic curves of degree d together with the
choice of p points on the riemann surface.8 therefore we relate h(cp) to the image
of multiplication by kgp on h(cm), where k is the su (2) raising operator in the ber

direction. this can be used to compute ng

according to (4.1) and (3.2).

before we carry this out, it is rst convenient to review some facts about the coho-

d

mology of the hilbert scheme of p points on the riemann surface c. let c be a smooth

curve of genus g. then we have for its cohomology, as an su (2) lefschetz representation

h(c) = (

1
2

)  (2g)(0).

(4.5)

for a smooth curve, its hilbert scheme is the same as its symmetric product. taking

symmetric products, we have for the lefschetz su (2) decomposition

h(hilbk(c)) =mr

symr(cid:18) 1
2(cid:19)  kr(2g)(0)
k  r(cid:19)(cid:16) r
kmr=0(cid:18) 2g
2(cid:17)

=

(4.6)

note that since the 2g(0) represent odd cohomology of c, we must antisymmetrize.

for convenience, we explicitly list the rst two cases of (4.6)

h(hilb2(c)) = (1)  (2g)(
h(hilb3(c)) = (

)  (2g2  g)(0)
1
2

)  (2g)(1)  (2g2  g)(

3
2

1
2

4
3

g3  2g2 +

2
3

g)(0).

(4.7)

)  (

the jacobian j (c) is a principally polarized abelian variety [18], so as we have already
mentioned has a canonical kahler class   h 1,1(j (c)), whose corresponding divisor is the
zero locus of the theta-function on j (c). it is straightforward to check that the resulting
lefschetz su (2) representation content of h(j (c)) can be identied with ig, which is
the representation we dened before. furthermore, the class  in this context is identied
with the su (2) raising operator k. so gph(j (c)) is the same as kgpig, and we are
just dealing with a simple problem in the representation theory of su (2).

8 more precisely, we choose a length p subscheme z of the curve c, which means that dim oz =
p. for smooth curves, a length p subscheme is the same thing as a subset of p points of c (including

multiplicity). if the curve is singular, these notions can dier. in section 5, we will see how the

dierence plays a crucial role in relating our methods to geometry.

15

one easily proves by induction that

ig =

gmr=0(cid:18)(cid:18) 2g

g  r(cid:19) (cid:18) 2g

g  r  2(cid:19)(cid:19)(cid:16) r
2(cid:17)

as an su (2) representation. it follows immediately that

(4.8)

(4.9)

in general.

2(cid:21)  (2g) [0] ,
g1h(j (c)) =(cid:20) 1
g2h(j (c)) = [1]  (2g)(cid:20)1
pmr=1(cid:18)(cid:18) 2g
gph(j (c)) =

2(cid:21)  (2g2  g  1) [0] ,
p  r  2(cid:19)(cid:19)h r
p  r(cid:19) (cid:18)
2i

2g

in (4.9) we are being a bit imprecise with notation, since the kgpig are not repre-
sentations of su (2). what we mean by [r/2] is a collection of r + 1 classes of the form
v, kv, k2v, . . . krv. we are not assuming that v is killed by the su (2) annihilation opera-
tor. here v can have any u (1) charge m  r, so that [r/2] has u (1) charges shifted to
m, m + 1, . . . , m + r.

now we are ready to relate h(hilbk(c)) and the image of multiplication by gp.

we can write the precise relationship by comparing (4.5) and (4.6) with (4.9):

h(c) = kg1ig

h(hilb2(c)) = kg2ig  (0)
h(hilb3(c)) = kg3ig  h(c)
h(hilbp(c)) = kgpig  h(hilbp2(c)) in general.

(4.10)

note that i takes h i(wp) to h 2g2p+i(j (c)). this shift by 2g  2p is precisely what is
needed to match up the u (1) charges in (4.10), which is understood as an identication of

u (1) charges.

again by induction we note from (4.9) that

tr(1)f kgpig =

2
p!

(g  p)

p1yi=1

(2g  i)  a(g, p)

(4.11)

now we vary over m. we write the representation of the bps states as r =

p ngig. allowing the curve to vary over the moduli space of the curve m, we

get from (4.10)

16

h(c(1)) = kg1r
h(c(2)) = kg2r  h(c(0))
h(c(3)) = kg3r  h(c(1))
h(c(p)) = kgpr  h(c(p2)) in general

(4.12)

with the denitions c(0)  m and c(1)  c. we now apply tr(1)f to both sides of
(4.12), and get, using (4.11)

(1)dim(m)+(e(c())  e(c(2))) =

xp=0

a(g  p,   p) ngp,

for  = 1, . . .

(4.13)

where we set e(c(1))  0, a(g, 0)  1. in particular, the rst two equations read

(1)dim(m)+1e(c(1)) = (2g  2)ng + ng1

(1)dim(m)(cid:16)e(c(2))  e(c(0))(cid:17) =

1
2

(2g  2)(2g  1)ng + (2g  4)ng1 + ng2

(4.14)

if we solve (4.14) and ng = (1)dim(m)e(c(0)) for ng, ng1, ng2 we get

ng1 = (1)dim(m)+1(cid:16)e(c(1)) + (2g  2)e(m)(cid:17)
ng2 = (1)dim(m)(cid:18)e(c(2)) + (2g  4)e(c(1)) +

1
2

(2g  2)(2g  5)e(c(0))(cid:19) .

in general one shows that the solution to (4.13) yields

nr = ng = (1)dim(m)+

xp=0

b(g  p,   p) e(c(p)),

(4.15)

with

b(g, k) 

2
k!

(g  1)

k1yi=1

(2g  (k + 2) + i),

b(g, 0)  0.

note that we do not require the lefschetz action on cm to apply these formulas, only

the lefschetz action on the spaces c(k). these exist whenever the spaces c(k) are smooth.

17

5. considerations of enumerative geometry

to relate the invariants nr

in this section, we put forward some natural geometric principles which allow us
d to computations on other, but related geometrical objects.
moreover, this reasoning points us to introduce correction terms for certain families of

reducible curves. we illustrate our formulas by a few examples which yield numbers which

can be checked by other methods. more systematic checks are done in the remaining

sections of this paper.

in the previous section we have seen that the contribution of a family of genus g curves

action on the bers, that this can also be computed by a localization principle. this is

to f0 comes from the e(cm). since cm is a jacobian variety, one would expect, by torus
similar to the situation considered in [19]. there, the calculation of e(cm) can be localized
to compute e(cm) by localizing on curves with g nodes.

to a calculation on the set of nodal curves. for a genus g curve we would like to be able

an additional motivation comes from a glance at (4.2). it is natural to expect from

(4.2) that there would be subspaces

such that ng

m = cm0  cm1      cm  ...  cmg = cm
d = (1)dim bm e(cm) for some suitable spaces cm.

quite independently of the existence of such subspaces, we can still ask for a locali-

cation type of computation for all these cases, as in [19]. consider for example the  = g

case. in this case we are degenerating the curve of genus g to g = 0 with g nodes. on the

other hand, the genus 0 isolated curves have information only about the i0 content of bps
states. since an isolated genus g   curve has information only about the ig content
of bps states, one would expect that ng
d which counts bps states in the representation
ig is localized on curves of genus g  . this reasoning would thus lead us to identify

(5.1)

(5.2)

ng

d = (1)dim em e(fm)

where fm  m denotes the moduli space of irreducible curves with  ordinary nodes, i.e.

with genus r = g  . note that this proposal also ts with the top genus contribution
where  = 0, namely

ng = (1)dim me(m).

(5.3)

where we have noted that m parameterizes generic genus g curves. regardless of the

existence or denition of cm and the localization of its euler characteristic to e(fm) we

18

would like to explore the potential validity of (5.2) and in particular see if we get a match
with the computations done in the previous section.9

5.1. alternative interpretation of the nr
d

in this section, we undertake the geometric calculation of the desired formulas. re-
call that in [19], a formula for n0 was derived assuming that the singular curves in the

relevant family of curves had only nodes as singularities. in our situation, we will make

similar simplifying assumptions on the geometry of the singular curves in our family. our

viewpoint is that since we expect to derive formulas which are generally valid, we are free

to make extra assumptions in order to derive them. in fact, our assumptions rarely hold,

but we will be able to argue that the formulas obtained are sound. in this way, we greatly

enhance our ability to calculate geometrically.

calculation of invariants of fm can be tricky due to the irreducibility requirement.

it is easier instead to study the spaces m, the set of curves with  nodes, dropping the
irreducibility hypothesis. it is easier still to consider m, the closure of the m in m.
the spaces m parametrize curves with at least  nodes, and also curves with possibly
more complicated singularities or higher multiplicities. we will calculate e(m) using a
simple topological argument in certain good situations.

let us consider a special case where many of the diculties are supressed. suppose
that all curves ci parametrized by the points of mi  mi+1 have exactly i nodes for
0  i  , where we have put m0 = m. then the euler characteristic of ci is 2 + i  2g.
if in addition m+1 is empty, then m = m = m  m+1. we next set out to

calculate e(m). note that if the curves of e(m) are irreducible, so that m = fm, then

we can calculate nr = ng from this euler characteristic using (5.2). we are continuing
to assume that m is smooth.

recall that the hilbert scheme hilbk(c) of degree k subschemes of a single curve
c parametrizes subsets s  c of k points. the points of s are allowed to occur with
multiplicity. there is a bit more structure placed on the higher multiplicity points which

are located at the singularities. we will give examples later. for the moment, we just

observe that this hilbert scheme has dimension k.

9 we could use the relation of invariants to classes considered in the previous section to
construct spaces formally related to what we want, but that viewpoint does not appear useful in

the present context.

19

let  : c  m be the universal curve, so that if m  m corresponds to a curve
cm  x, then c  x  m is such that 1(m) = cm  {m}. for each k, let k :
c(k)  m be the relative hilbert scheme of degree k subschemes of the bers of . in
other words, we build c(k) from the universal curve by taking the hilbert scheme of the
curves cm = 1(m) for each m  m, and c(k) is constructed as the union of these as m
varies in m. thus the ber of k over m is hilbk(cm), and c(k) has dimension dimm + k.
our assumptions imply that all bers of c(k) over points of mimi+1 have the same
computable euler characteristic, which will be an explicit function f (g, i, k) of g, i, and k.

we will calculate f (g, i, k) explicitly soon for all g and a few values of i and k.

then letting c(k)

i

be the preimage under k of mi, we get

e(c(k)

i

)  e(c(k)

i+1) = f (g, i, k)(cid:0)e(mi)  e(mi+1)(cid:1) .

note that c(k)
+1 is empty. summing these equations from i from 0 to , we get an equation
expressing e(c(k)) in terms of the e(mi), 0  i  . if we generate  such equations by
taking k from 1 to , then these equations can be solved for the  variables e(mi), 1 
i  . in particular, we can solve for e(m) = e(m) in terms of these e(c(k)) and e(m).
as already stated, this gives the desired formula for nr when the irreducibility as-

sumption holds.

we now carry out this procedure for small . the results are

e(m1) = e(c) + (2g  2)e(m)
1
e(m2) = e(c(2)) + (2g  4)e(c) +
2
e(m3) = e(c(3)) + (2g  6)e(c(2)) +

(2g  2)(2g  5)e(m)
1
2
(2g  2)(2g  6)(2g  7)e(m)
1
2

(2g  4)(2g  7)e(c)+

(2g  6)(2g  9)e(c(2))+

e(m4) = e(c(4)) + (2g  8)e(c(3)) +

(5.4)

1
6

xi=2

1
6

(2g  4)(2g  8)(2g  9)e(c) +

1
24

(2g  2)(2g  7)(2g  8)(2g  9)e(m)

these formulas suggest that in general, we have

e(m) = e(c()) + (2g  2)e(c(1))+

1
i!

(2g  2 + 2i  2)(2g  2 + i  3)(2g  2 + i  4)    (2g  2  1)e(c(i))
(5.5)

20

where we have put c(1) = c and c(0) = m. these are precisely the formulas given in
(4.15), as we asserted at the beginning of this section!

consider for example the case when x is a local p2. since homogeneous polynomials

of degree d in the three variables have (d + 2)(d + 1)/2 coecients and scalar multiplication
of the equation does not alter the curve, with get m = pd(d+3)/2. in particular, if d = 4,
we get that m = p14, with euler characteristic 15. to understand c, we consider the
projection c  p2. the ber over p  p2 is the set of plane quartic curves which contain
p, and this is a p13 for all p, as the equation f (p) = 0 imposes one linear equation on the 15
coecients of f . thus c is a p13 bundle over p2, hence smooth, and e(c) = (3)(14) = 42.
we therefore get e(m1) = 42 + 4(15) = 102.

note that fm1 = m1 in this instance. to see this, observe that a reducible curve of

degree 4 would have to be the union of a line and a degree 3 curve, a union of two degree

2 curves, or more degenerate congurations. all such curves must have at least 3 nodes
or worse singularities, so are not contained in m1. but it is not true that m2 is empty
in this case. nevertheless, we nd from table 5 that n2
4 = 102, exactly as we would have
found if m2 were empty!

this situation turns out to be quite common. we derive formulas for the nr, and they

turn out to have greater validity.

a few words are in order now about the assumption we made that m+1 is empty.
recall that we want to derive a formula for e(m). but this euler characteristic is only
asserted to correctly calculate the appropriate nr if m is smooth. this is relevant because
at a point of m+1  m, the space m tends to be singular. here is the reason. if c has
 + 1 nodes, then choosing any subset of  of these nodes, we get a branch of m which
parameterizes curves for which the last node is allowed to smooth out while the original

subset of  nodes remains nodal. since there are  + 1 choices of subsets of  nodes, we see
that m has  + 1 branches at a general point of m+1. in particular, m is singular.

said dierently, once we assume that m is smooth, then the assumption that m+1 is
empty is quite natural. once we drop the smoothness assumption, then there is no reason
that the formula ng = e(m) should be valid. the pleasant surprise is that we have
discovered that the formula we derive for the ng are correct more generally. in fact,
these formulas do not always compute the e(m), but that is of no concern to us: the
bottom line is that the formulas compute the invariants that we are actually interested in.

we now have to say something about a common situation when fmi 6= mi, namely

when there are reducible curves in our family with exactly i nodes. we expect a nice

21

geometric situation when all components parameterizing reducible families are irreducible
components of m.

here is the problem. if a curve c has  nodes and is irreducible, then its desingular-
ization c has genus g   and comes with a map c  c which gives an explicit geometric
contribution to the instanton sums. however, if c has  nodes but is reducible, then its

desingularization at  nodes can split c into disjoint components. since the worldsheet

must be connected, such a conguration does not contribute to the instanton sums. how-

ever, it does contribute to our calculations which have ignored the issue of irreducibility.

we must nd a way to correct for this.

we consider such a component which parameterizes reducible curves of the form c =
c1  c2  . . .  ck. some of the curves ci may also have a xed number of nodes,
hence a xed geometric genus gi. explicitly, if ci has degree di and i nodes, then gi =
(di  1)(di  2)/2  i. since each degree di is strictly less than the degree d of c, we can
inductively compute the instanton numbers ngi
for their respective degrees and geometric
di
genus.

suppose that these curves split into disjoint components after desingularizing at the

 nodes. we propose that this component contributes qi ngi

di

computed by multiplying formulas (5.4) and (5.5) by the appropriate sign. in other words,

to the numbers naively

we are proposing the following algorithm for computing the instanton number of genus
r  g associated to a family of curves of arithmetic genus g.

supposing that c(k)
is smooth for 0  k  r, we put  = g  r and calculate
(1)dim m e(m), where by e(m) we mean the value calculated from (5.4) or (5.5).
then identify any components m1, . . . mr of m which parameterize reducible curves.
as explained above. we

each component mj gives a contribution of the form qi nrij

have introduced a second subscript on d and g to emphasize that we may have to consider

dij

several components. our proposal is then

nr = (1)dim m e(m) 

rxj=1yi

nrij
dij

.

(5.6)

we illustrate again when x is a local p2 and again d = 4. this time, we will calculate

the genus 0 instanton number. we have to impose  = 3 nodes to get the genus to
0. we have already computed that e(m) = 15 and e(c) = 42. we consider the map
2 : c(2)  hilb2p2 which takes a multiplicity 2 scheme in a degree 4 curve and views

22

it as a multiplicity 2 scheme in p2. we can compute the euler characteristic of hilb2p2

either from counting xed points of a torus action or from the generating function

xk=0

e(cid:16)hilbkp2(cid:17) qk =

yn=1

(1  qn)3.

(5.7)

either way, we get 9 for this euler characteristic. it is not hard to see that the ber of
2 over any point z  hilb2p2 has codimension 2 in the space of all degree 4 curves, as
this ber is just the space of all quartics containing z. said dierently, the condition that
f|z = 0 places 2 independent linear conditions on the 15 coecients of f . if z = {p, q},
these two conditions are just f (p) = f (q) = 0.
if z is concentrated at a single point,
then after a change of coordinates we can write z locally as y = x2 = 0. the space of f

which contain z is just the space of (not necessarily homogeneous) degree 4 polynomials

in x and y whose constant terms and coecient of x vanish, again a codimension 2 linear
subspace. after projectivizing, this space is therefore a p12, with euler characteristic 13.
we therefore see that c(2) is smooth, and we compute that e(c(2)) = 9  13 = 117.

similarly, we get that c(3) is smooth and e(c(3)) = 22  12 = 264, since hilb3p2
has euler characteristic 22 by (5.7) and the space of quartic curves containing a xed
multiplicity 3 scheme is a p11.

now using these numbers and g = 3 in (5.4), we get e(m3) = 222.
but this is not the entire story, since there are reducible quartics which are unions of

lines and cubic curves which have three nodes. lines and cubics have respective instanton
numbers 3 and 10. since the space of three nodal curves has dimension 11, we therefore
get the corrected number n0
4 = (1)11222  (3)(10) = 192. this is in agreement with

the value we will exhibit from the b-model in table 5 of section 8.3.

we think of our calculational method as giving corrections to (5.4) and (5.5). un-
fortunately, it does not apply in all cases, since the c(k) can be singular. the simplest
6 in local p2. this case has  = 8, and for  < 8 our method
case we are aware of is n2
applied successfully every time we are able to check it by mirror symmetry. our proposal

is therefore a very powerful check of the m-theory integrality prediction. we presume that
the eventual reconciliation with more general cases (including n2

6) will come from more

subtle corrections.

as an interesting aside, we note that our method sometimes applies nevertheless when
c(k) is singular. the simplest case is if c  x is a single isolated curve of arithmetic

23

genus 1 with a single node. the identity map c  c is a genus 1 stable map, and the
normalization map p1  c is a genus 0 stable map. it is clear that these are the only
degree 1 stable maps onto c up to isomorphism. we arrive at the conclusion that n1 = 1
and n0 = 1.10 since m is a point, we get from (5.3) that n1 = 1. as for the genus 0
contribution, the rst line of (5.4) (or more simply, the method of [19]) gives n0 = 1, since
c = c has euler characteristic 1.

continuing with this digression, note that this reconciles the count of bps states with

stable maps of degree 1 for any isolated irreducible curve of arbitrary genus and number

of nodes. suppose that an irreducible curve d has arithmetic genus g and k nodes. by

[21], the compactied jacobian of d is isomorphic to a product of factors. one factor is
the jacobian j ( d) of the smooth genus g  k desingularization of d. there are k other
factors, one for each node, and each of these are isomorphic to the curve c above with
genus 1 and a single node. by [1], j ( d) contributes an igk representation, and we have
just established that each copy of c contributes an i1 + i0 representation. so the total

representation is

(5.8)

igk  (i1 + i0)k =
the right hand side of (5.8) predicts ng =(cid:0)k
d only at this subset. since there are(cid:0)k

(cid:19)ig.

kx=0(cid:18)k
(cid:1). this matches the stable maps perfectly,
(cid:1) ways to do this, we have complete agreement.

as we get a genus g  k stable map by picking  of the k nodes and partially normalizing

we now derive (5.4), beginning with  = 1. since all smooth curves of genus g have

euler characteristic 2  2g, we get

e(c)  e(c1) = (2  2g)(cid:0)e(m)  e(m1)(cid:1) .

by our assumption that all curves of m1 have exactly one node, we have

e(c1) = (3  2g)e(m1),

since one nodal curves have euler characteristic 3  2g. adding these two equations, we
obtain

e(m1) = e(c) + (2g  2)e(m),

(5.9)

10 the higher degree invariants have recently been computed in [20].

24

which is the rst equation in (5.4).

the case of  = 2 requires additional explanation.
we have to calculate e(m2). we have the equations

e(c2) = (4  2g)e(m2)

e(c1)  e(c2) = (3  2g)(e(m1)  e(m2))
e(c)  e(c1) = (2  2g)(e(m)  e(m1))

obtained as before. adding these equations gives

e(c) = (2  2g)e(m) + e(m1) + e(m2).

(5.10)

we next derive another equation to eliminate e(m1) by considering c(2). as above, let c(2)
be the restriction of the map c(2)  m to the part lying over mi  m for i = 1, 2. we
calculate the euler characteristics of the strata c(2)
i+1, a new point needing explanation
being the role of the nodes. writing the node locally as xy = 0, we see that there is a p1

i c(2)

i

moduli space for the schemes of multiplicity 2 at the origin. recall that locally schemes

are the same thing as ideals, so a scheme of multiplicity 2 at the origin is just an ideal i

of polynomials in x, y such that the origin has multiplicity 2. it is easy to see that i must

be generated by a linear and a quadratic polynomial in x, y, both vanishing at the origin.

given a linear polynomial ax +by, there is actually no need to specify a choice of quadratic

polynomial q(x, y), since q, taken together with the quadratic polynomials x(ax + by)

and y(ax + by) spans a 3 dimensional space, necessarily the entire space of quadratic

polynomials vanishing at the origin. explicitly, these are the schemes za,b dened by the
ideals ia,b = (ax + by, x2, xy, y2), where (a, b)  p1. note that xy  ia,b, so that the za,b
are indeed contained in the nodal curve.

this is the new ingredient that we need to calculate the euler characteristics of the
strata. to get hilb2(c), where c is a curve with i nodes, we take its second symmetric
product, and replace the single point 2(node) with a p1, for each node. this says that

since c has i nodes, then

e(hilb2c) = e(sym2c) + i

=(cid:18)i + 3  2g

2

(cid:19) + i.

25

(5.11)

this leads immediately to the equations

2 ) =(cid:18)(cid:18)5  2g
e(c(2)
2 ) =(cid:18)(cid:18)4  2g
e(c(2)
1 )  e(c(2)
1 ) =(cid:18)(cid:18)3  2g
e(c(2))  e(c(2)

2 (cid:19) + 2(cid:19) e(m2)
2 (cid:19) + 1(cid:19) (e(m1)  e(m2))
2 (cid:19)(cid:19) (e(m)  e(m1))

we add these equations and obtain

e(c(2)) =(cid:18)3  2g

2 (cid:19)e(m) + (4  2g)e(m1) + (5  2g)e(m2).

(5.12)

we now can eliminate e(m1) from (5.10) and (5.12) and get

e(m2) = e(hilb2(c/m)) + (2g  4)e(c) + (g  1)(2g  5)e(m),

(5.13)

the second equation in (5.4).

we turn next to  = 3. the calculation begins as in the previous cases, and we get

the equations

e(c) = (2  2g)e(m) + e(m1) + e(m2) + e(m3)

e(c(2)) =(cid:18)3  2g

2 (cid:19)e(m) + (4  2g)e(m1) + (5  2g)e(m2) + (6  2g)e(m3).

(5.14)

we now have to bring in c(3) to derive one more equation for the purpose of eliminating
e(m1) and e(m2). we have to explain how to calculate c(3). so we need to know how
to calculate the euler characteristic of hilb3 of a curve c of arithmetic genus g with i
nodes for i = 1, 2, 3. we study the map hilb3c  sym3c and see where it fails to be an
isomorphism. this is precisely over the points 2p + q and 3p of sym3c, where p  c is
a node and q 6= p is arbitrary. as in the discussion leading to (5.11), we replace 2p + q
by p1  q, where p1 is the p1 of tangent directions to c at p. so for each node pi, we
replace a subset {pi}  c  {pi} by p1  c  {pi}, adding i(i + 1  2g) to the euler
characteristic. as for 3p, we write the node locally as xy = 0 and look for multiplicity 3

schemes contained in xy = 0 and concentrated at (0, 0). it suces to compute the euler
characteristic, which is just the number of xed points of a torus action (x, y) 7 (tax, tby)

26

where a 6= b are arbitrary. these are just the points (x, y3), (y, x3), and (x2, xy, y2), so the
euler characteristic is 3.11 this gives

e(cid:0)hilb3c(cid:1) =(cid:18)4 + i  2g

3

(cid:19) + i(i + 1  2g) + 2i =(cid:18)4 + i  2g

3

(cid:19) + i(i + 3  2g).

we now immediately get the equations

3 ) =(cid:18)4  2g
e(c(3)
3 ) =(cid:18)(cid:18)5  2g
e(c(3)
2 )  e(c(3)
2 ) =(cid:18)(cid:18)6  2g
e(c(3)
1 )  e(c(3)
1 ) =(cid:18)(cid:18)7  2g
e(c(3))  e(c(3)
adding, we get the formula
3 (cid:19)e(m) +(cid:18)(cid:18)4  2g
2 (cid:19) + 6  2g(cid:19) e(m2) +(cid:18)(cid:18)6  2g

3 (cid:19)e(m3)
3 (cid:19) + 4  2g(cid:19)(cid:0)e(m2)  e(m3)(cid:1)
3 (cid:19) + 2(5  2g)(cid:19)(cid:0)e(m1)  e(m2)(cid:1)
3 (cid:19) + 3(6  2(cid:19) g)(cid:0)e(m)  e(m1)(cid:1)
2 (cid:19) + 4  2g(cid:19) e(m1)+

e(c3) =(cid:18)4  2g
(cid:18)(cid:18)5  2g

2 (cid:19) + 8  2g(cid:19) e(m3).

we can now solve our 3 equations in (5.14) and (5.15) for e(m3), obtaining

e(m3) = e(c(3)) + (2g  6)e(c(2)) + (g  2)(2g  7)e(c)+

2
3

(g  1)(g  3)(2g  7)e(m) ,

(5.15)

(5.16)

the third equation in (5.4).

the same method applied to  = 4 yields the fourth equation in (5.4). we use the

general fact that the hilbert scheme of multiplicity k points concentrated at a node has

euler characteristic k. this fact can be easily veried using xed points of torus actions.
we have already seen this result explicitly for k  3.

note that it is clear that this method of calculation generalizes to arbitrary genus.

we do not know how to carry this out in closed form, but do presume that the answer is

given by (5.5) since we have derived this in (4.15) and we will oer several checks of these

formulas in later sections.

11 it can be seen that the set of all multiplicity 3 schemes is isomorphic to p2, while those
contained in the nodal curve are p1  p1, the rst p1 being {(ax + by2, x2, xy, y3)} for (a, b)  p1,
the other p1 being obtained by interchanging x and y.

27

6. application to counting m2 branes in k3  t 2

before we come to the application of the formalism developed in sections 4 and 5
to the general case of calabi-yau threefolds, we consider the simpler k3  t 2 case. in
this case the topological string amplitudes are rather trivial (except for genus 1 which

is 24 times the logarithm of the  function). the reason for this triviality is also easy

to explain from the view point of bps degeneracy of wrapped m2 branes in m-theory
compactication on k3  t 2: the bps spectrum of states which preserve exactly 1/4 of
the supersymmetry (which has the same amount of supersymmetry preservation as for the

m 2 branes wrapped around a generic calabi-yau) are longer: they are in general of the

form

r  i l

1  i r

1

(6.1)

where r is some representation of su (2)l  su (2)r and i l
1 = (1/2, 0) + 2(0, 0) and
i r
1 = (0, 1/2) + 2(0, 0). these states were recently considered in [22] starting from a type
ii one-loop computation. we observe here that there is an extra factor of i r
1 in the above
representation. when we consider the relevant index contributing to topological string
amplitudes, by summing over the right representation with a (1)fr, the i r
1 factor kills
the contribution. the geometric explanation of this, in term of the moduli space we have

discussed is that the moduli space of m2 brane congurations is a product space with a
factor including a t 2. this is because we can use the u (1)  u (1) symmetry of the t 2 to
obtain a new holomorphic curve from any given one. this introduces an extra factor i r
1 in
the representation. the only case where this action is trivial, and the i r
1 is absent from the
above representation, is if the m 2 brane lies entirely in the t 2, i.e. it is a point in k3 and
wraps the t 2. from the point of view of representation theory the fact that the i r

1 does
not appear in that case is that this bps state preserves 1/2 of the supersymmetry and so
it is a shorter multiplet. the moduli space of the m 2 brane wrapping t 2 and projecting

to a point in k3 is simply k3, whose euler characteristic is 24. taking into account the

n fold bound state which always exists at genus 1, we reproduce the prediction of the

topological string amplitude at genus 1 and its vanishing at all other genera.

however, clearly there is an enormous amount of information in precisely which rep-

resentations r appear in (6.1). in particular, for these bps states, we can omit the factor
of i r
1 , and again concentrate on the su (2)l action and sum over the right states (with
a (1)fr) and dene the degeneracy number nr
d, just as in the generic calabi-yau case.
here d is an integral h2 class of k3  t 2 and g labels the su (2)l representation content

28

in terms of ig. we can still ask how to compute nr
d numbers using the techniques of this
paper. for simplicity of notation we consider a topological string amplitude fg using
these numbers as input parameters, without worrying whether or not they come from any
2d topological theories12.

the class d can be viewed as coming from a class c  h2(k3) and a class in h2(t 2)
dened by an integer m times the basic class. by dieomorphism symmetry of k3 the

number of bps states for d = [c, m ], as far as the c dependence goes should only depend
on c2 = 2n  2. thus we can recast the computation in terms of nding the degeneracy
associated to the choice of two integers (n, m ).

6.1. zero winding on the t 2

let us rst consider the case where m = 0, i.e. that the bps states correspond to
wrapping only the k3 space, and to a choice of a point on t 2. the t 2 space enters in
a rather trivial way (simply giving the i r
1 factor noted above) and essentially drops out
of further consideration for this case. we are then just asking about the bps spectrum

of m 2 brane wrapped over m-theory compactications on k3. since m-theory on k3 is
dual to heterotic string on t 3 [23], the heterotic string dual gives an immediate prediction
for the number of bps states, as well as their su (2)l  su (2)r quantum numbers. the
answer for the dimension of the representation r (summed over all states weighted with
(1)fl+fr) gives the degeneracy of the left oscillator of the heterotic string at level n . in
other words

n,0 qn =

x ng=0

yn=1

1

(1  qn)24 .

this structure follows from the fact that there are 24 left oscillators i

n where i runs from
1 to 24 and n runs over all positive integers. for example, if n = 3, the bps states are

specied by the symmetrization of the states

1j
i

1k

1|0i, i

1j

2|0i, k

3|0i,

of the heterotic string. in fact we can also easily read o the su (2)l  su (2)r content
of these states as well, because the su (2)l  su (2)r = so(4) is identied with its
12 it is likely that they do. for example it is natural to expect that by some insertion of
1 contribution above. for example

operators at higher genera one can eectively cancel the i r

an insertion of r jljr on the world sheet, where jl,r denote the left- and right-moving u (1)

currents of n = 2 algebra may do the job.

29

canonical embedding in so(24). in other words, each oscillator i

n corresponds to the

representations13

[i

n] = 20(0, 0) + (

1
2

,

1
2

)

we can thus decompose the bps states above in terms of the su (2)l  su (2)r quantum
numbers inherited from each oscillator. for example, the contributions of the three types

of states given above are

,

1

2

3 (cid:19) (0, 0) +(cid:18) 21
(cid:18) 22
400(0, 0) + 40(cid:18) 1
20(0, 0) +(cid:18) 1

2 (cid:19)(cid:18) 1
2(cid:19) + 20((1, 1) + (0, 0)) +(cid:18) 3
2(cid:19) + (1, 1) + (1, 0) + (0, 1) + (0, 0)+
2(cid:19) + 64(1)  4(cid:18) 3
2(cid:19) = 1984(0)  504(cid:18) 1
2(cid:19) ,

2
1

2

1

2

,

,

,

3

2(cid:19) +(cid:18) 1

2

,

1

2(cid:19) +

where we have summed in the last expression over the right representation with (1)fr.
reexpressed in the ig the result reads

3200i0  800i1 + 88i2  4i3 .

(6.2)

the above calculation can be easily systematized by writing the oscillator partition function

one obtains

for the oscillators in the representation 20(0, 0)+(cid:0) 1
xr=0,d=0

(1  qn)20(1  yqn)2(1  y1qn)2 =

yn=1

1

2 , 1

2(cid:1), one for each integer. in particular
(1)gnr

2  y 1

2 )2rqd .

n,0(y

(6.3)

1

on the right-hand side nr

n,0 is the number of bps states in the representation i l

l eigenvalue i/2, or alternatively since i1 has one state with j 3

g+i(cid:17)
charge whose square is 2n  2. the identication follows by noting that ig contains(cid:16) 2g
states with j 3
1/2, while ig = ig
with (3.3) one can resum it to write the total free energy as f =pm=1

l eigenvalue
1 . the expression (6.3) contains information about all genus, and
m f (m), where the

13 the same reasoning applies to the su (2)l  su (2)r decomposition of rational elliptic sur-
faces. this makes it easy to calculate the higher genus invariants in a xed class [b] + n[f ]

g with

1

[24].

30

last sum is over the multicovering contributions with14

f (m) =(cid:18)2 sin

m

2 (cid:19)2 yn=1

(1  qmn)20(1  eimqmn)2(1  eimqmn)2 .

1

(6.4)

of course all information about the nr

d is already in f (1).

let us summarize for concreteness some of the low degree invariants.

nr

n,0
n = 0

1

2

3

4

5

r = 0

1

24

324

3200

1

2

3

4

5 6

2

54

800

3

88

4

25650

8550

1401

126

5

176256 73440

15960 2136

168

6

6 1073720 536860 145214 25670 3017 214 7

table 1: the weighted sum of bps states nr

n,0 for classes in the k3.

these predictions for the spectrum of bps states for m-theory compactication on

k3 is based on duality with heterotic strings. one can ask if one can derive these spectra

directly in m-theory context. in particular as discussed before, we would have to study

the moduli space of holomorphic curves in k3 together with a at bundle, in the class c
whose self-intersection is 2n  2. this has been considered in [26], and the above result
from heterotic string was reproduced. the basic idea is rather simple: with some choice
of complex structure, we can assume k3 is an elliptic surface over p1. moreover, by global

dieomorphisms we can assume the cycle c is represented by the class [b] + n [f ] where
[b] denotes the class of the base p1 and [f ] denotes the class of the elliptic ber. the

moduli space of curves in this class corresponds to degenerate riemann surfaces of genus
n and is simply given by the choice of n points on p1 to which the n elliptic bers are

attached. in the computation of the bps states, we are instructed to consider also at

bundles on the riemann surface. in this degenerate limit, that choice is easy: it simply

14 this decomposition into spins gives the higher genus result also for curves in the k3 classes
of k3 bered threefolds. if we take into account the multiplicity due to base p1 integration (2)
and the lattice sum, captured already at genus zero, and multiply therefore by (2)e4(q)e6(q)

we get the higher genus answer for the k3 bration x24(1, 1, 2, 8, 12), which was obtained from a

one loop computation in [25].

31

corresponds to the choice of a at bundle on each elliptic ber. that in turn is equivalent

to a choice of a point on a dual elliptic ber. all said and done, the choice of n points

on p1 and a point on the dual elliptic ber over each point, shows that the moduli space

of curves with the at bundle is equivalent to the choice of n points on the t -dual k3.

since the ordering of the points are immaterial, this corresponds to the n fold symmetric
product of k3, or more precisely, the hilbert scheme of n points on k315. thus the

moduli space is given by

the cohomology of this space can be identied in the usual way [27] with the hilbert space

cm = hilbn (k3)

of 24 oscillators at level n , and exactly reproduces the above results for the heterotic string.
moreover the su (2)lsu (2)r decomposition can also be deduced from the corresponding
decomposition for the cohomology of a single copy of k3. with the identication of su (2)l

with the elliptic ber direction and su (2)r with the base directions, we immediately get

the decomposition

24  20(0, 0) + (

1
2

,

1
2

),

as this is the unique representation whose diagonal su (2) content is (1)  21(0), the
lefschetz representation of k3, while the su (2)r content of left-spin 1/2 is (1/2), the
lefschetz representation on the base m = p1. this reproduces the result based on duality
with heterotic strings given above.

in [19], the coecients cn of i0, which as discussed is the euler characteristic of
hilbn (k3), were related to genus zero curves coming from degenerate genus n curves
with exactly n nodes. as the n continuous parameters of the moduli space pn of the

genus n curve are completely killed by the imposition of the n nodes, this eventually
leads to the counting of points. here we consider the intermediate cases, the genus n  
curves, where we impose 0    n nodes. as this leaves a  dimensional moduli space,
an appropriate virtual fundamental class on this space is needed to reduce the dimension
to 016. the formula (5.2) is equivalent to the assumption that the obstruction bundle in

15 it would be nice to make this argument mathematically more rigorous. what has to be
checked is that this correspondence continues to hold when several bers are allowed to coincide.

the details will require a mathematical study of sheaves on non-reduced curves.

16 a related problem was considered in [28], where the dimensions of the moduli space was

reduced to 0 by forcing the curves to go through k   points.

32

the case of a smooth moduli space is the cotangent bundle, since the euler class of the

cotangent bundle is the euler characteristic of the moduli space up to sign.

for example, the coecients in (6.2) correspond to invariants nr

3 associated to genus
r = 0, 1, 2, 3 curves obtained by putting nodes on the degree d = 3 genus g = 3 curve.

the moduli space of such curves has dimension g = 0, 1, 2, 3, and the virtual fundamental
class has the same codimension. so the nr

3 (and multiple cover/bubbling contributions)
can be thought of as computable by taking the virtual class and performing an additional
localization on the positive dimensional moduli space m of curves with  nodes. by the
discussion of section 4 and 5, we can instead calculate these using the invariants e(c(k)
[n])
for k  . in other words, in this case we have two geometric models for computing nr
[n,0]:
one is based on the hilbert scheme of n points on k3, which we have already discussed,

and it agrees with the predicted answer from heterotic string. another way to compute

these numbers is to follow the strategy developed in previous sections and relate these
[n]). this will be useful, as it will also tell us how in some cases where

numbers to e(c(k)

these spaces are singular, we may nevertheless dene unambiguous answers.
lets check a few cases of these numbers. for any n , we have m = pn .
for n = 0, the moduli space is a point, and n0
0 = 1.
for n = 1, the moduli space is m = p1, giving n1

1 = 2 by (5.3). choosing the
complex structure so that the k3 is elliptically bered and our family of curves is the ber
class, we see that c is just the k3. so from [19] or from (5.4), we get n0

1 = e(c) = 24.

for n = 2, we again get n2

g = (1)g(g + 1)). let us
choose the complex structure to be that of s = p(1, 1, 1, 3)[6]. the projection  : s  p2
onto the rst 3 coordinates is a 2-1 cover. the inverse images c via  of the lines in
p2 dene the genus two curves. to see this, letting h be the hyperplane class of p2 we

2 = 3 (and more generally, ng

compute

c2 = ((h))2 = (point) = 2,

since 2 points of s lie over a point of p2. since c2 = 2n  2 = 2, this veries that the
genus is n = 2. to calculate c, as usual we project c onto s and note that the ber is
always p1 as follows. given a point p of a curve c (so that (p, c)  c), the curves c
through p are in 1-1 correspondence with the lines of p1 through (p), and this is always
a p1. this gives e(c) = e(s)e(p1) = 48, and by (5.4), we get n1
2 = (48 + 2  3) = 54.
but now something interesting happens. the space c(2) is not a projective bundle
over hilb2(s). to see this, lets pick a point z of hilb2(s). this usually projects via  to

33

a point z of hilb2(p2). when this happens, there is a unique line  connecting the two
points of z in p2, hence a unique curve c = 1() in s passing through the two points of
z. so we might have thought that c(2) is isomorphic to hilb2(s), with euler characteristic
324. but this is not true! if the point z consisted of the 2 points of 1(p) for any point
p  p2, then it maps via  to just the point p of p2. there is a p1 of lines through p,
whose inverse images via  are a p1 of curves in s through z. in other words, there is an
isomorphic copy of p2 embedded in hilb2(s) via the map p 7 1(p), and each of these
points gets replaced by a p1 in c(2). it is not dicult to see that c(2) is the blowup of
hilb2(s) along p2. this tells us that c(2) is smooth, so that (5.4) applies. it also tells us
that e(c(2)) = e(hilb2(s)) + e(p2) = 324 + 3 = 327. now, (5.4) gives n0
2 = 324. we will
give a physical way to calculate e(c(2)) using k3  t 2 soon.

in general, if the map c(k)  hilbk(k3) is a projective bundle, then we see that c(k)
is smooth, and its euler characteristic is (g  k + 1)e(hilbk(k3)), where g is the genus n .
we can then calculate ngk
using (5.5). if it is not a projective bundle, then there are two
problems. first, the euler characteristic is more dicult to calculate. second, and more
seriously, the space c(k) need not be smooth, so there may be a virtual fundamental class
to calculate instead of the euler characteristic and our formulas need not be valid.

g

lets check n = 3. we have m = p3 and n3

3 = 4. it is not hard to see (and we
will check presently) that c and c(2) are projective bundles, so that e(c) = 3  24 = 72
and e(c(2)) = 2  324 = 648. this gives, by (5.4), n2
3 =
(648 + 2  72 + 2  4) = 800.

3 = 72 + 4  4 = 88, and n1

to compute e(c(3)), we choose our k3 to have the complex structure of a degree 4
hypersurface s  p3, and the genus 3 curves c to be the plane sections of s (which are all
degree 4 plane curves). note that there is a p2 of planes passing through any point of s,
and a p1 of planes containing any 2 points of s, verifying the projective bundle structure
on c and c(2) just mentioned. given three points of s, there is typically a unique plane
containing these points (the plane they span), but this fails when the 3 points lie on a line
, in which case we get a p1 of planes. in other words, the set of triples of collinear points
in s forms a subset t of hilb3(s), and we replace t by a p1 bundle over t to get c(3).
thus e(c(3)) = e(hilb3(s)) + e(t ).

there is an alternative way to describe t . let p0  s be arbitrary. let  be any line
containing p0 (for xed p0, there is a p2 of such lines). then   s consists of 4 points, of
which p0 is one of them. so there are 3 remaining points p1, p2, p3, which collectively give
a point of t . thus the data of t is a point of s and a point of p2, and so t is smooth

34

and e(t ) = e(s)e(p2) = 72. furthermore, it is again straightforward to check that c(3) is
the blowup of hilb3(s) along t , so is smooth. thus e(c(3)) = 3272 (which we will check
soon by a dierent method), and by (5.4), n0

3 = 3272 + 0  72 + 0 = 3200.

in principle these calculations can be continued to higher n , at the expense of having

to use increasingly dicult projective geometry to complete the calculation. we will return
to more of these calculations shortly when we see that many of the moduli spaces m for
k3  t 2 with m 6= 0 are precisely the relative hilbert schemes c(k) for k3!

6.2. more general h2 classes in k3  t 2

we will now relax the assumption that m = 0 and also consider the case where the
m 2 brane wraps m times around the t 2. when m = 0 we used three ways to compute

it in the previous section: one was the duality with heterotic strings. the other was

the direct denition in m-theory, leading to hilbert scheme of k3 and the third one,

was based on the methods we developed in this paper. the rst two approaches gave a

complete answer, whereas the third approach was somewhat incomplete (even though in

principle one should be able to push that program of computation sketched in some cases
in the previous section). for the case when m 6= 0 it turns out we only know one method
to compute the exact answer and that is based on duality between m-theory on k3  t 2
and type iib string on k3  s1. the other two methods, are more dicult and we do
not know how to use the direct denition of bps states of m2 brane to obtain the results

predicted by this duality. we will discuss aspects of these computations in special cases

below. but rst we show what the duality between m-theory and type iib predicts for all
the numbers nr

[n,m ] dened before.

m-theory on t 2 is dual to type iib on s1. through this duality the m 2 brane in 9
dimensions, gets mapped to a d3 brane wrapped around s1. moreover the momentum
quantum number around s1 of type iib gets mapped to the quantum number of the m 2
brane wrapping number over t 2. now consider compactifying further on a k3. then an
m2 brane wrapped in some 2-cycle class of k3 t 2 given by [c, m ], gets mapped via this
duality to d3 branes wrapped around c  s1 carrying momentum m around s1. in fact,
in the type iib setup, these are exactly the class of black holes that were studied in [29].

let us consider the limit where the k3 is small. in this limit we have an eective leftover

1 + 1 dimensional worldvolume of the d3 brane which is a supersymmetric sigma model
on symn (k3). thus the moduli of d3 branes in the class c of k3 with c2 = 2n  2
is given by symn (k3)  r4, where the extra r4 comes from the position of the d3

35

brane in the rest of the space. thus the low energy dynamics of the 1+1 dimensional

eective theory is a supersymmetric sigma model on this space. we are considering the
spatial direction to be wrapped over an s1 and we are looking for states which preserve

1/4 supersymmetry in the full theory, which correspond to states which preserve 1/2

supersymmetry in the 1 + 1 dimensional sigma model. these come from states with purely

left-moving oscillator excitations, and restricting to the ground states of the right-moving

hilbert space. moreover if we are interested in m2 brane bps states with wrapping number
m around t 2, we should look at left-moving oscillator excitation m . the su (2)lsu (2)r
symmetry is realized in the hilbert space of the sigma model by a left-moving current

algebra which realizes su (2)l and a right-moving current algebra realizing su (2)r [30],
as far as the degrees of freedom is concerned on the symmetric product of k3s. however
for the r4 factor, the su (2)l current algebra is a right-moving current and the su (2)r
current is a left-mover17. summing over the r states with (1)fr is exactly the denition
of the elliptic genus of the sigma model on symn (k3)  r4. it was in fact the elliptic
genus that was used to verify the predictions for black hole entropy [29][30]! so in this case
we see that the left/right asymmetric treatment of the su (2)l  su (2)r is exactly the
same as the useful elliptic genus index for supersymmetric sigma models, which has the

required stability under deformations which allows one to predict at least a lower bound

for the black hole entropy. the spinning quantum number of the black hole gets mapped
in this case to the j 3
l quantum number. we will use this link with black holes in the
next section to connect the growth of nr
d with predictions based on black hole entropy for

m-theory compactication on a general calabi-yau 3-fold.

due to interest from black hole physics the elliptic genus of symmetric products of
l quantum number [31].

k3 has been computed, including the modication due to the j 3

let us denote the elliptic genus of a general manifold m

(m ; q, y) = trh(m )(1)f yflqh = xm0,lz

c(m, l)qm yl

(6.5)

17 the reason for this switch, relative to the k3 degrees of freedom is that in the gauge theory
language in 6 dimensions (as in the dual d1d5 brane dual systems), k3 degrees of freedom
come from the higgs branch and the r4 from the coulomb branch, and the fermions in these
two multiplets have opposite 6-dimensional chiralities. this translates to the statement that the

so(2) and so(4) chiralities are oppositely correlated in the two cases. this in particular means
that the left-moving fermions do not carry any su (2)l quantum number for the r4 sigma models.
of course the bosonic oscillators are vectors and do carry both quantum numbers.

36

then the orbifold construction of [31] gives for the n -fold symmetric product symn (m )

xn=0

pn (sn k3; q, y) = yn>0,m0,lz

1

(1  pn qm yl)c(nm,l) .

(6.6)

the elliptic genus of the k3 can be easily made concrete from an orbifold representa-

tion of the k3 (e.g. k3 = t 4/z2) or a landau-ginzburg description as

(k3; q, y) = 24(cid:18) 3(q, y)
3(q) (cid:19)2

 2

4
4(q)  4

2(q)

4

 (cid:19)2
(cid:18) 1(q, y)

.

we note the rst terms of this expansion

q0 :

2
y

+ 20 + 2 y = 2(cid:20) 1

2(cid:21) + 20 [0] ,

q1 :

20
y2 

128
y

+ 216  128 y + 20 y2 .

clearly the q0 part of (6.6) gives (6.4) back. so far we ignored the fact that the momentum

can be distributed in the space time directions as well. taking this into account (and noting

as discussed before that the su (2)l current algebra is not active as far as the left-moving
fermions from the r4 part are concerned) we get for the single cover contribution

f (1) =(cid:18)2 sin
=:(cid:18)2 sin



2(cid:19)2 yk>0n>0
2(cid:19)2 xn0,m0,lz

m0,lz



cn,m,l pn qm eil

(1  qk)4

(1  eiqk)2(1  eiqk)2

1

(1  pnqmeil)c(nm,l)

.

(6.7)

as with (6.4), we can sum over all multicoverings f (m) to obtain the free energy. moreover

we may multiply by a lattice theta functions if we wish to exhibit the sum over classes in
h 2(k3, z) .

let us recapitulate the dictionary which relates this to the counting of m 2 branes of
m-theory in k3  t 2. n corresponds to the genus g of a smooth curve in the k3, which
after a suitable complex structure deformation can be always thought as a curve c with

degree n with respect to an elliptic k3s ber class which has degree 1 in the base class.

the powers m correspond to the degree with respect to the t 2. the powers l (note the
y  1/y symmetry) correspond to the number of nodes , and for a given class [m, n ] we
have  = n + m  l.

let us consider the case  = 0 rst. geometrically the moduli space of these curves
[n] , the degree m relative hilbert scheme of the universal curve. to see

is modeled by c(m )

37

this, note that a general curve of this type consists of a sort of comb, the union of a

single curve c on the k318 and m copies of t 2. the only moduli is where on c to attach

the copies of t 2. this is given by specifying the m points on c, and the total moduli is
c(m )
[n] , where c[n] is now the universal curve of genus g on the k3 (i.e. there is no t 2 being
considered at all).

by the general formula, nr

[m,n] = (1)dim me(m). the cn,m,m +n give the euler
is smooth and the relevant class for the

[n] ) at least for the case that c(m )

number e(c(m )
obstruction theory is in the cotangent bundle of m . if c(m )
prediction cn,m,m +n should calculate an integral over a suitable, but not yet understood,

is singular then the physical

[n]

[n]

[n] ). the important point here is that we nd that the relations between the nr

virtual fundamental class, the result of which we may call in a slight abuse of notion also
e(c(m )
the so dened e(c(m )

[d] ) are exactly reproduced by our general formula (4.15)!

d and

let us list the predictions for the values for the e(c(m )

[n] ) = nr

[m,n] = cn,m,m +n and

compare with the direct computation in several cases.

ng
n = 0

n,m m = 0
1

1

2

3

4

5

6

1

2

24

2

3 48

2

3

48

327

3

4

72

648

4

5

96

972

5

6

120

1296

6

7

144

1620

4

72 648

3272 6404

9600 12800

5 96

972 6404

26622 51396

76955

6

120 1296

9600 51396

185856 353808

7 144

1620 12800

76955 353808 1150675

table 2: the weighted sum of bps states ng

n,m for classes in k3  t 2 with  = 0.

these moduli spaces are the relative hilbert schemes of the k3. the euler charac-

teristics of these relative hilbert schemes can be sometimes computed directly, and are in
agreement when smooth. as usual, we have m = pg. as for the computation of c(m ),
this is our standard method. we consider the map  : c(m )  hilbm (k3).
if this is
a projective bundle then we can immediately compute e(c(m )). if not, then we analyze
where it fails to be a projective bundle and correct as appropriate.

18 we have adjusted the complex structure of the k3 away from the elliptically bered structure,

so instead of c being the base plus g bers, the curve c is typically irreducible.

38

letting c be the universal curve on a general k3 of genus n , we have seen from the
[m,n] = e(c(m )) when c(m ) is smooth. in

comb description that m = c(m ), leading to nr
particular, this occurs if n is large, with the asymptotic formula

[m,n] = (1)n+m (n + 1  m )e(hilbm (k3)),
nr

n >> 0

which is consistent with the appearance of the columns of the above table. the de-

viations from this formula occur when there is not a projective bundle structure for
c(m )  hilbm (k3). we have already explained this for m = n = 2 and for m = n = 3.
lets look at n = 4 and m = 3. we choose the complex structure to be that of
s = p4[2, 3], the intersection of a degree 2 hypersurface q and a degree 3 hypersurface t .

the curves of genus 4 are the hyperplane sections. by dimension reasons, we might expect
the bers of c(3)  hilb3(s) to be p1, but if the 3 points happen to lie on a straight line,
there is a p2 of hyperplanes through the line, giving a ber of p2 rather than p1. lets call
this locus b  hilb3(s). now, if 3 points of s lie on a line , then the quadratic equation
dening q has at least 3 zeroes on the line , hence vanishes identically. thus   q.
conversely, any line contained in q will meet s in 3 points (the three points where the line
meets t ). this shows that b is the set of lines contained in q. so c(3) is a p1 bundle over
hilb3(s), except over b where it is a p2 bundle. this gives e(c(3)) = 2e(hilb3(s))+e(b).
we can use standard techniques in algebraic geometry [32] and the schubert software [33]

to compute e(b) = 4. this gives the invariant 6404, in agreement with the table.

we can also check the n = 1 row. we have by (5.3) nm +1

[1,m ] = (1)m +1e(c(m )), where c
is the universal curve of the elliptic bration. if c is a smooth ber, then the corresponding
ber of c(m ) is the m th symmetric product of c, which has euler characteristic 0. so it
is only the 24 singular bers that contribute to e(c(m )). each of these singular bers c
has exactly one node, so e(hilbm (c)) = m by the discussion in the paragraph following
(5.16). this gives e(c(m )) = 24m , or nm +1
[1,m ] = (1)m +124m , in agreement with the table.
note that the symmetry of the table is immediate from duality and our calculations,

but the geometric content of this symmetry is non-trivial, even in identifying the n = 1

row with the m = 1 column.

we can also consider the more dicult situation where we put nodes  = n +m l >

0. some invariants for  = 1 are given in the table below.

39

ng1
n = 0

n,m m = 0
0

24

54

1

2

3

1

0

0

2

6

216

720

162

3

16

432

5712

4

30

768

5

48

1200

6

70

1728

9768

15552

22680

88 1488

11832

4368

83496 135456

204872

4 126

2376 23016

138696

65112

884184 1398486

5

168 3360

36000 258048

1292712 701856

7546536

6 214

4440 50328

396392 2324790 10160160 6086258

table 3: the weighted sum of bps states ng1

n,m for classes in k3  t 2.

note that the m = 0 column reproduces the k3 results found earlier.

7. black hole entropy and topological strings

as discussed in the previous section in the context of m-theory compactication on
k3 t 2, the spectrum of m2 branes wrapped around various cycles for large enough cycle
classes would physically correspond to black holes. moreover the su (2)l content of the
bps state corresponds to the spin of the black hole. in such a case the growth of wrapped

m2 branes in a given h2 class and with given spin is anticipated by the bekenstein-
hawking entropy of macroscopic black holes, which has been veried. moreover, there are

index-like quantities appearing in topological string theories, computed as a sum over the
right-moving states with (1)fr, which in the type iib setup is perturbation invariant
and is related to the computation of the elliptic genus. these are exactly the kind of

computations which yield black hole entropy in the regimes where string perturbation

breaks down.

it is thus natural to expect that this relation between bps states in m-theory com-

pactication on a general calabi-yau threefold continue to hold, namely the growth of the

left bps degeneracy with xed su (2)l content but summed over right su (2)r quantum
numbers with (1)fr will also yield the black hole entropy. in what we shall write here
we will not worry about numerical constants in the formula for the growth of black hole

entropy.

if we consider the macroscopic prediction for black hole entropy coming from a large
l = m spin one obtains [30], in the regime d >> m and

charge d >> 1 and for a given j 3

d >> 1,

nd,m  exppd3  m2

40

(7.1)

this is meant to convey the exponential growth and its dependence in uniform rescaling

of d and m, and is valid up to numerical coecients in the exponent. also there may be

a sub-leading power law correction prefactor in front of the exponent.

one can try to compare this macroscopic prediction with the microscopic prediction.
since the su (2)l content of the black hole entropy is captured by the numbers nr
d, we can
compare with the total number of bps states with charge d and with j 3
l spin m. all we
need to do is to recall that the full representation of the bps states with charge d is given

by

r = [

gxr=0

nr
dir]  i1

(7.2)

this sum is nite, as for a given degree there is a maximum genus curve which realizes it.

moreover if we consider the ig content of the state we have

t rik yj 3

l = (y

1

2 + y

1

2 )2k

this in particular means that the number of states in ik with j 3

l = m spin is given by

applying this to (7.2) we see that the number nd,m is given by

k + m(cid:19)
(cid:18) 2k
r + 1 + m(cid:19)
d(cid:18) 2r + 2

nr

nd,m =xr

comparing this with the growth expected from macroscopic considerations (7.1), we get

the prediction in the limit d >> 1, d >> m

xr

nr

r + 1 + m(cid:19)  exppd3  m2
d(cid:18) 2r + 2

(7.3)

this is a very delicate sum, in that nr
d are typically very big numbers for d large, which
alternate in sign when one changes g by one unit, as we have seen in many examples in
this paper. it is known that nr
d for a xed r grows with large d as exp(d). this however,
is not in contradiction with the prediction (7.3) as one is summing over all non-vanishing

r, and for large ds the allowed range in r is also large. in other words one is considering a

dierent region of parameters and the equation (7.3) is a new prediction of the growth of

these numbers in a dierent direction. it would be interesting to verify them (some special

cases of this formula for calabi-yau threefold has been veried in [34] in the context of

elliptic 3-folds).

41

8. computations in local calabi-yau geometries

in this section we will apply the techniques developed in sections 4 and 5 to local
calabi-yau geometries. by a local calabi-yau model we mean the total space o(kb)  b
of the canonical line bundle bered over a (two) dimensional fano19 variety b. for the base
b we discuss here del pezzo surfaces p2, p1p1 and en, the blow up of p2 in n = 1, . . . , 8
points20. to calculate the invariants for a curve with  nodes we have to calculate e(c(k))
for k  , which is easy when there is a bundle structure k : c(k)  hilb(k)(b). for a
given degree d we nd in general a bound  < max(d) for which this is true. for instance,
on p2 the rst restriction comes from max(6) = 8. in general one can show that in this
case max(d) = d + 2. another complication arises when the curves are reducible. however

we found a systematic procedure to account for the corrections due to reducible curves,
which gives the expected answer whenever e(c(k)) could be calculated using the bundle
structure. the information from these calculations were sucient to x the b-model

ambiguity up to genus g = 4, 5 in the examples. when there is no bundle structure for
c(k) the modeling of these spaces becomes more complicated. while the bundle structure
guarantees smoothness, we nd in examples21 that some of the spaces lacking the bundle
structure are singular. hence the euler number e(c(k)) has to be replaced by an integral
ctop over a suitable virtual fundamental class. we have not attempted to dene

c appeared
in two places in our calculation tting exactly our approximation of h(j (c)) by c(k) by

r[c(k)]vir
this virtual fundamental class. however in k3  t 2 case the quantityr[c(k)]vir
(4.15). we are therefore optimistic that there is natural denition ofr[c(k)]vir ctop for the

non-smooth c(k) in the general case, which calculates the nr
sections 4,5.

d invariants by the formulas in

8.1. basic concepts

first we need to calculate the euler number of the moduli space e(m) for the
non-degenerate curves c, which are embedded in the surface b. more precisely, these

19 the condition for b to be fano can be relaxed, see [35].
20 quantum intersection rings on these surfaces were discussed in [36].

in these cases the

dimension of the moduli space of the curves is reduced to zero by requiring the curves to go

through xed points. there is no obvious relation between these invariants and the ones we

calculate and relate to m-theory bps states [37].

21 c(8) at d = 6 and c(9) at d = 7 on p2 to be discussed below

42

curves are characterized by the fact that their geometric genus and their arithmetic
genus coincide. we obtain the dimension of the deformation space ph 0(o(c)) from
i=0(1)ihi(o(c)) under the assumption that h 1(o(c)) = h 2(o(c)) = 0.

this is true on del pezzo surfaces with general moduli [38]. then, using adjunction

(o(c)) =pn

and the riemann-roch formula

c2 + kc = (2g  2)

(o(c)) =

c2  kc

2

+ 1,

we obtain (o(c)) = g + d, where d is the degree of the curve with respect to the anti-
canonical class k of b. since the moduli space is obtained by projectivizing h 0(o(c)),
we get as the result

e(m) = e(pg+d1) = (g + d).

(8.1)

to be concrete, recall that the classes on a en del pezzo are the p2 hyperplane class
h and the exceptional divisors of the blowups ei in n points p1, . . . , pn, with h 2 = 1 and
eiej = ij (for p1  p1 see the later discussion). a curve of multidegree (a; b1, . . . , bn)
refers to the class of curves obtained from blowing up the plane curves of degree a which
pass through the point pi with multiplicity bi. these curves have class ah p biei. we

will typically rearrange the order of points to write the bi in nonincreasing order. we
will also omit the bi which are 0. and we will use exponential notation bk to refer to a
subsequence of k copies of b. the exceptional divisors ei do not t into this classication

scheme and will be denoted separately. to follow the subsequent discussion one needs

an overview over the low degree classes in the del pezzos surfaces, which we provide in

appendix a. they are ordered with respect to their arithmetic genus

g =

(a  1)(a  2)

2



nxi=1

bi(bi  1)

2

(8.2)

and their degree with respect to the anticanonical class of the del pezzos ken = 3h 

i=1 ei

pn

d = 3a 

bi .

nxi=1

43

(8.3)

let us consider as an easy example the e1 del pezzo surface. as it was observed by
mirror symmetry in [39] there are invariants22 n0
1,a = 2a + 1 from curves wrapping 1 times
the base h and a times the bre h  e1 of the hirzebruch surface f1 = e1, i.e. since
a = hc and 1 = (h  e1)c these genus zero curves are in the class (a; a  1) and by
(8.3)(8.1)(5.3) we immediately obtain the mirror symmetry prediction.

to calculate the invariants for curves with one node  = 1 we need next to determine
the euler number of the universal curve e(c). we rst x a class [c] with a curve c of
arithmetic genus g and degree d in it. then we calculate the contribution of a nodal curve
in [c] to the invariant ng1
at genus g  1 by (4.15) or (5.4)(5.3). in the simplest situation
the nodal curve is irreducible. the space c, comes with a bration structure as follows.
fixing the location of a point on the curve gives a linear constraint in the moduli space
pg+d1 of the genus g curve. as the point is free to vary over b, c comes with a natural
bration c  b which, if it is smooth, gives rise to the euler number

d

e(c) = e(pg+d2)e(b) = (g + d  1)e(b) .

(8.4)

e(c(k)) = e(pg+d1k)e(hilb(k)(b))

in general if there is the bundle structure k : c(k)  hilb(k)(b) then
with pk e(hilb(k)(b))qk = qn

(8.5)
(1qn)e(b) . the easiest example for the treatment of re-
4 in p2 in section 5.2 (after eq. 5.7). in the case
ducible curves is the calculation of n0
of general del pezzo surfaces we have to sum over various classes as will be explained in
section 8.5 for the case of the e5 del pezzo when we calculate n0
4.

1

8.2. o(1)  o(1)  p1

the conifold geometry does not support higher genus curves and the only rational
curve that exists is the p1. therefore the fg of the type iia topological theory23 are
completely governed by the multicover and bubbling contribution of this one rational

curve.

in this sense this simplest calabi-yau background to which 2-d gravity can be

coupled is completely solved by (2.3) in full accordance to (3.3).
it is interesting that
in this case the part of the fg which follows from the anomaly can be made vanishing
in the holomorphic limit by noting that there is a gauge choice in which all propagators

of kodaira-spencer become identically zero, compare [7]. in this sense all holomorphic

information here actually comes from the ambiguity.

22 which resum to the logarithm capturing the running of the gauge coupling in the n=2 gauge

theory at the appropriate locus in the moduli space.

23 not to be confused with the iib asymptotic behavior at the locus where an s3 shrinks, which

we discuss in sections 2,5,6.

44

8.3. local p2: o(3)  p2

this is the next simplest case. this geometry supports an innite number of curves

of dierent arithmetic genera, making the geometry much more interesting than in the

conifold case.

we rst present the result for the invariants. the numbers in the table 4 marked with

a diamond were obtained with the technique discussed in sections 4 and 5, as explained

in detail below. once we can x the holomorphic ambiguity completely for a genus g,

which was possible up to r = 5 in this case (see sect 8.6), the b-model gives an immediate

answer for fr at all degree d. using this b-model result integrality of the nr

d was checked
up to d = 300. for r = 6, 7, 8 we could determine the ambiguity only up to s = {2, 4, 6}
constants, which can be parameterized by the nr
d, d = 8, . . . 8 + si. assuming that they are

integer we checked that the b-model gives rise to integer nr

d up to d = 300. as a further

check we compared with the calculation in [7], which uses the c = 1 kdv hierarchy and

direct localization techniques. numbers marked with a star were calculated this way.

the r = 1 numbers listed in table 4 follow the geometric subtraction scheme (2.4).

the dierences in genus 1 between the geometric and the physical subtraction schemes

d = (n1

d  n1

d ) are 6 = 10, 8 = 231, 9 = 10 and 10 = 4452 up to given order.

d

r = 0

1

2

3

6

27

192

1695

6 17064

188454

7

3

4

5

1

0

0

10


231

4452

80948

1438086

2

0

0

0

3

0

0

0

102

5430

194022

5784837

15

3672

290853

15363990

4

0

0

0

0

5

0

0

0

0

1386

290400

29056614

270

196857

40492272

8 2228160

25301295 155322234

649358826 2003386626

4741754985

9

27748899 443384578

3894455457 23769907110

109496290149 396521732268

10 360012150 776051533293050366010 7864008439115094944994204 26383404443193

45

d

1
...
4

5

r = 6

0

0

21

7

0
...
0

0

8

0

0

0

9

0
...
0

0

10

0

0

0

6 90390

27538 5310

585

28

11

0
...
0

0

0

12

0

0

0

0

13

0
...
0

0

0

14

0

0

0

0

15

0
...
0

0

0

7 4229774133388020199562969001908303527175121813221015636111336

table 4: the weighted sum of bps states nr

d for the local p2 case. (d is the degree w.r.t. h)

we now turn to a more detailed discussion of our methods outlined in sections 4 and

5. we will give the results in terms of the degree d to the extent possible.

since the degree d plane curves have moduli space m = pd(d+3)/2, we have from (5.3)

that

n(d1)(d2)/2
d

= (1)d(d+3)/2(d + 1)(d + 2)/2.

this is in complete agreement with table 4.

note that if d  3, then any reducible curves must have at least 2 nodes or worse
singularities. this is seen by considering the ways that a degree d curve can split into

curves of degrees di with p di = d, together with the observation that general plane

curves of degrees di and dj meet in didj points. therefore we only need the rst term on
the right hand side of (5.6) to compute instanton numbers with  = 1.

note that the ber of c  p2 is the set of degree d plane curves containing p, which
is a pd(d+3)1. thus e(c) = e(p2)e(pd(d+3)/21), or 3d(d + 3)/2. using the rst equation
of (5.4) and (5.6) together with g = (d  1)(d  2)/2, we get a formula

nd(d3)/2
d

= (1)d(d+3)/2(cid:18)d

2(cid:19)(d2 + d  3),

which agrees with the results found for d = 3, 4, 5, 6 in table 4 above.

as our next check for p2, we observe as before that for d  4, all reducible curves have
at least 3 nodes. so as above, the calculation simplies for  = 2 and d  4 by requiring
only the rst term on the right hand side of (5.6).

consider the map 2 : c(2)  hilb2p2. the ber of 2 over z  hilb2p2 is the set
of plane curves of degree d containing z  p2. either z = {p, q} or z consists of a point
p  p2 and a tangent direction at p. either way, we see that it is two conditions on a

46

plane curve to contain z (to say that c contains z = (p, v) with v  tpp2 means that
p  c and v is tangent to c at p). thus the ber is a pd(d+3)/22. this gives

e(c(2)) = e(pd(d+3)/22)e(hilb2p2)

= 9(cid:18) d(d + 3)

2

 1(cid:19) .

we get from the second equation of (5.4) and (5.6)

n(d23d2)/2

d

= (1)d(d+3)/2(cid:18)9(cid:18) d(d + 3)
+(cid:18) d2  3d

(cid:19) (d2  3d  3)(cid:18)d + 2

 1(cid:19) + (d2  3d  2)  3
2 (cid:19)(cid:19) .

2

2

d(d + 3)

2

in particular, we verify that n1

4 = 231, as noted earlier, as well as n4

5 = 1386.

d23d4

continuing, we have that for d  5, all reducible curves have at least 4 nodes, so the
calculation for  = 3 simplies. we consider the map c(3)  hilb3p2, and check that
the ber is always a pd(d+3)/23, yielding e(c(3)) = 22((d + 4)(d  1)/2). using the third
equation from (5.4) and (5.6), we get
 1(cid:19) +
2 (cid:19)(cid:19) (8.6)
(cid:18)d + 2

= (1)
((d  1)(d  2)  4) ((d  1)(d  2)  7)

+ ((d  1)(d  2)  6) 9(cid:18) d(d + 3)

((d  1)(d  2)  2) ((d  1)(d  2)  6) ((d  1)(d  2)  7)

(cid:18) 3d(d + 3)

(d + 4)(d  1)

(cid:18)22

(cid:19) +

(d+1)(d+2)

n

d

2

2

2

2

2

2

6

in particular, substituting d = 5, 6 into (8.6), we get n3

5 = 3672 and n7

6 = 27538, see

table 4.

we recall from section 5 that we can also handle the situation where there are reducible

3 nodal curves, namely d = 4. the problem is that we have the locus of quartic curves
which are unions of a cubic and a line. we saw how this leads to n4 = 192.

the case of n5 is even more interesting, in that there are two extra components
contained in m6. the rst component is the union of degree 2 and degree 3 curves,
contributing n0
3 = 60, and the second component is the union of lines and degree 4
curves with 2 nodes, contributing n0
4 = 693. according to (5.6), we substitute d = 5
in (5.5) with  = 6 and g = 6 and subtract the contributions of 60 and 693, obtaining
n0
5 = 1695, as in table 4. the e(c(k)) can be computed as above because in these cases

1n1

2n1

47

the projection c(k)  hilbkp2 is a bundle of projective spaces and e(hilbkp2) can be
computed by (5.7).

using (5.5) and (5.6), we can verify nr

6 for r  3. the projection c(k)  hilbkp2 is
again a bundle of projective spaces for k  7. recall that this bundle structure implies
that c(k) is smooth, so that our method applies. thus we have a check of our method for
each   7.

this bundle structure does not occur in general.

6, we
encounter the map c(8)  hilb8p2. over a general point of hilb8p2, the ber is a
p278 = p19, as a multiplicity 8 scheme usually imposes 8 conditions on curves of a given
degree. but now suppose the 8 points all lie on a line l, and we identify the projective

in the computation of n2

space of degree 6 curves containing these 8 points (some of which may coincide). for such

a degree 6 curve, the restriction of its degree 6 equation to l has 8 zeros, hence vanishes

identically. thus the degree 6 equation contains the equation of the line as a factor, and

we can multiply it by an arbitrary degree 5 polynomial and obtain a degree 6 polynomial
containing the desired 6 points. since the degree 5 polynomials form a p20, we get a ber
of p20 rather than p19 in this case.

the lack of a bundle structure for 8 : c(8)  hilb8p2 causes us to ask if our methods
apply in this case. we have to see whether or not c(8) is smooth. consider the projection
8 : c(8)  p27 onto the other factor. that is, given an element (c, z) of c(8), so that
c is a plane curve of degree 6, and z is a multiplicity 8 scheme in c, i.e. an element of
hilb8c, put 8(c, z) = c, where c is now identied with the corresponding element of
m = p27. since the bers of 8 are all 8 dimensional, we can see that c(8) has dimension
27 + 8 = 35. to show that c(8) is singular, we need only exhibit a single element of c(8) at
which the tangent space of c(8) has dimension strictly greater than 35. since the tangent
space of c(8) at (c, z) is naturally identied with the space of rst order deformations of
the pair (c, z), we need only nd a (c, z) for which we can exhibit 36 independent rst

order deformations.

towards this end, for c we take a degree 6 curve l(x1, x2, x3)2f (x1, x2, x3) = 0, where
l is linear and f is homogeneous of degree 4 in the homogeneous coordinates (x1, x2, x3)
of p2. for z we take any 8 points on the line l(x1, x2, x3) = 0, which can possibly occur
with multiplicity.

note rst that we have 16 independent deformations obtained by moving these 8
points arbitrarily in p2 while keeping c xed. this is because of the factor of l2, which

ensures that all motions of the points stay within c to leading order. then we take the 20

48

deformations noted above, where we x z, but now vary the degree 6 curve to an arbitrary

curve of the form l(x, y, z)g(x, y, z) = 0, where g is homogeneous of degree 5. these 20

deformations are in fact honest deformations, not just rst order deformations. combining

these two classes of rst order deformations where we deform c and z separately, we have

all together the needed 16 + 20 = 36 deformations.

while our methods gave the correct results for singular moduli spaces arising from

isolated nodal curves in section 4, we are not so lucky this time. the calculation based on
(5.5) and (5.6) diers from the value of n2
6 in table 4 by 45. we expect that the singular
locus of c(8) provides a correction term to (5.6), much as the second term of (5.6) can be
viewed as providing a correction to (5.5). this is a topic for future investigation. if such

a correction can be understood, then we can nd fg for all g geometrically!

we close our discussion of the local p2 with a tantalizing observation about the
correction. we see that the image of the singular locus of c(8) via the projection 8 :
c(8)  p27 is the set of curves which factor into a degree 1 factor with multiplicity 2 and
degree 4 factor. this locus is parameterized by p2  p14, which has euler characteristic
45, exactly equal to the desired correction!

but we cant get too excited yet about this observation. the singular locus itself is a
p8 bundle over this space, since we must consider z itself, and hilb8 of a line is just p8.
so the singular locus of c(8) is parameterized by a space of euler characteristic 9  45.

nevertheless, we suspect that this is more than a coincidence. for d = 7, we see that
c(9) can be singular when the degree 7 curve factors into the square of a linear factor times
a degree 5 factor. this space is parameterized by p2  p20, which has euler characteristic
63. once again, this is exactly the discrepancy between the value of n6
7 computed using
the b-model, and the value computed by (5.6)! these examples provide a big hint which

needs to be better understood.

8.4. local p1  p1: o(k)  p1  p1

as expected from the segre embedding of p 1  p 1 into p 3 as a degree 2 surface, we
= nx2(1,1,1,1)
,

have the diagonal perturbation of the local p 1p 1 case, i.e.pi+j=r np 1p 1

which we have checked for genus 0, 1. still saying it dierently it sums up the instantons in

i,j

r

the compact elliptically bered cy over f0 which survive the limit where the bre volume

becomes innite.

49

d

1

2

3

4

5

6

7

8

r = 0

4

4

12

48

240

1356

8428

1

0

0

0

9

2

0

0

0

0

136

1616

24

812

17560

17340

3

0

0

0

0

0

4

0

0

0

0

0

186

9712

16

3156

56000

183452

302160

307996

206776

9 392040

1878664 4688912

7590720

8583824

10 2859120 19027840 67508988 159995520 274149876

table 5: the weighted sum of bps states nr

d for the local p1  p1 case.

we now compute the  numbers in table 5 geometrically. we recall that a curve of
bi-degree (a, b) on p1  p1 has total degree d = a + b, genus g = (a  1)(b  1), and
m = p(a+1)(b+1)1. by (5.3), this gives a contribution of (1)(a+1)(b+1)1(a + 1)(b + 1))
to n(a1)(b1)

a+b
if d = 2k is xed, then relative to all possibilities for d = a+b, the choice (a, b) = (k, k)

.

gives the maximum possible genus (k  1)2. thus

n(k1)2

2k

= (1)k2+2k(k + 1)2 = (1)k(k + 1)2.

this veries our results for k = 1, 2, and 3.

if d = 2k + 1, then the maximal genus k(k  1) is attained for (a, b) = (k + 1, k) or
(k, k + 1). we may as well consider one of these cases and multiply the result by 2. by

(5.3) we get

nk(k1)
2k+1 = 2(k + 1)(k + 2),

where the denite sign follows since (k + 2)(k + 1) is always even. this veries our results

for k = 0, 1, 2.

we next turn to curves with 1 node,  = 1. if d = 2k+1, then the only contributions to
nk(k1)1
come from (a, b) = (k + 1, k) or (k, k + 1). if d  5, there are no reducible curves
2k+1
of these bi-degrees with only 1 node. we restrict to the rst case and will later multiply the
contribution by 2. the map c  p1  p1 has ber over p the space of curves of bi-degree
(k + 1, k) which contain p, a p(k+2)(k+1)2. this leads to e(c) = 4((k + 2)(k + 1)  1) =
4(k2 + 3k + 1). we get

nk2k1

2k+1 = 2(cid:0)4(k2 + 3k + 1) + (2k(k  1)  2)(k + 2)(k + 1)(cid:1) ,

50

which in particular veries n1

5=136.

2k

if d = 2k and k  2, a new interesting possibility arises, which is typical in the sequel.
we get contributions to n(k1)21
some of which have  = 0, while others have  = 1. the
former type comes from (a, b) = (k + 1, k  1) or (k  1, k + 1). this gives a contribution of
2(1)k(k+2)1k(k + 2) by (5.3). the  = 1 contribution comes from (a, b) = (k, k), and we
get (1)(k+1)22(4((k + 1)2  1) + (2(k  1)2  2)(k + 1)2) from the rst equation in (5.4)
together with (5.6), as there are no reducible curves of this bi-degree with only 1 node.

combining these two contributions gives

nk22k
2k

= (1)k(k+2)1(cid:0)2k(k + 2) + 4(cid:0)(k + 1)2  1(cid:1) +(cid:0)2(k  1)2  2(cid:1) (k + 1)2(cid:1) ,

which agrees with table 5 for k = 2, 3.

we next consider the case of d = 7, g = 4. here there are the possible bi-degrees
(4, 3) and (5, 2). since the latter case already has g = 4, we get a moduli space m = p17,
which gives a contribution of 18 by (5.3). curves of bi-degree (4, 3) have genus g = 6 and
m = p19, with e(m) = 20. we get as usual e(c) = 19  4 = 76 and e(c(2)) = 18  14 = 252
(we have used e(hilb2(p1  p1) = 14 here). so the second equation of (5.4) together
with (5.6) gives a contribution of (1)17(252 + 8  76 + 5  7  20) = 1560, as there are no
reducible curves of this bi-degree with 2 nodes. combining with the 18 and multiplying
by 2 to account for bi-degrees (3, 4) and (2, 5), we get the consistent answer 3156.

more interesting is the geometric calculation of n0

5. we have to consider bidegrees (4, 1)
and (3, 2). the rst case is handled by (5.3), and we get 10. in the second case, we have
g =  = 2, e(m) = 12, e(c) = 4  11 = 44, e(c(2)) = 14 10 = 140. there are also reducible
curves of type (1, 0)  (2, 2) with 2 nodes. by (5.3), we have n0
2,2 = 9. so
by the second equation in (5.4) and (5.6), we get n0
3,2 = (140  12)  (2)  9 = 110.

1,0 = 2 and n1

thus n0

4,1) = 240, in agreement with table 5.

5 = 2(n0

3,0 + n0

8.5. other local del pezzo geometries: e5, e6, e7, and e8

the e5 del pezzo:

51

d

1

2

3

4

5

6

7

8

9

r = 0

16

20

48

192

960

5436

1

0

0

0

5

96

1280

33712

14816

2

0

0

0

0

0

80

2512

224000

160784

51928

3

0

0

0

0

0

0

160

8710

1568160 1688800

886400 274240

4

0

0

0

0

0

0

0

680

51040

10 11436720 17416488 13552940 6643472 2167656

table 6: the weighted sum of bps states nr

d for the local e5 del pezzo.

as in p1  p1, to verify our calculations we need to break up our degrees into sub-
classes. verication of the en geometries is complicated mainly by the fact that there are

many possibilities contributing to a given degree, and we must consider all the possibilities

for any xed d that we want to understand.

as typical examples, let us verify n1

4. we look at the d = 4, g = 1 data rst.
we have the class (3; 15) with m = p4 (by riemann-roch, one expects m = pd+g1 in
general). this veries n1
4. we
have c  m with ber p3, hence

4 = 5 by (5.3). but there is also a  = 1 contribution to n0

4 and n0

e(c) = e(p3)e(e5) = 4  8 = 32.

this gives a contribution of 32 to n0

4 by the rst equation of (5.4) and (5.6).

of doing this. for (3; 2, 13) we choose 1 point for the two, and 3 of the remaining points

we next look at the d = 4, g = 0 data. each of these classes has m = p3. each p3
gives a contribution of 4. so we have to count numbers of such families. for (2; 12) we
2(cid:1) = 10 ways
have to choose 2 out of the 5 points at which to put the two ones; there are(cid:0)5
2(cid:1) = 20 ways of doing this. finally, for (4; 23, 12) there are 10
for the ones, and there are 5(cid:0)4

choices. all together, there are 10 + 20 + 10 = 40 distinct d = 4, g = 0 families. the total
contribution is 40(4) = 160. combining with the 32, we have 160  32 = 192,
which agrees with the calculated value of n0
4.

52

now lets calculate n0

5. we have for d = 5, g = 1 the families (3; 14), (4; 22, 13), (5, 25)
and we want  = 1. including permutations, there are 16 such families. in each case, we

have reducible curves with 1 node:

(3, 14) = (3, 15)  e5

(4, 22, 13) = (3, 15)  (1, 12)
(5, 25) = (3, 15)  (2, 15)

since the curves of type (3, 14) form a p4, and the respective curves e5, (1, 12), and (2, 15)
are all isolated, it follows that the term to be subtracted on the right hand side of (5.6) is
5. since e(c) = 58 = 40 in each case, we get for each the contribution 40(5) = 35
by the rst equation of (5.4) and (5.6). combining this calculation with the more standard

calculations for  = 0 based on (5.3), we get n5 = 80(5) + 16(35) = 960, in agreement with
table 6.

we can similarly verify all the other cases indicated with a diamond using just these

techniques. we can also check some cases requiring curves with  > 1 nodes, but these

become increasingly tedious.

the e6 del pezzo:

d

1

2

3

4

5

6

7

8

9

r = 0

27

54

243

1728

15255

153576

1

0

0

4

135

3132

62976

1696086

1187892

2

0

0

0

0

189

10782

397899

20053440

21731112

12055770

3

0

0

0

0

0

789

75114

4188726

249740091 391298442

326385279 179998572

4

0

0

0

0

0

10

7641

948186

69918830

10 3240109350 6985791864 8218296072 6602867631 3896482536

table 7: the weighted sum of bps states nr

d for the local e6 del pezzo.

note that the second equation in (5.4) is needed for n2

6, and we get from several
dierent families of curves, (5.3), the rst two equations in (5.4), and (5.6), the result
n2
6 = 270(8) + 108(72)  846 = 10782, again in agreement with table 7.

the e7 del pezzo:

53

d

1

2

3

4

5

6

7

8

9

r = 0

56

272

3240

58432

1303840

33255216

1

0

3

224

12042

574896

26127574

3

2

0

0

0

844

116880

10554800

7

12112

2654912

930431208

1163157616

787322120

358173504

27855628544

51336812456

52707074296

37805931096

878169863088 2258519658288

3292406219040 3430645737616

10 28835628521920 99301270680473 196037258631040 280764828128124

table 8: the weighted sum of bps states nr

d for the local e7 del pezzo.

again the numbers marked with  have been checked. here we determine the number
n3
5. first let us calculate the contribution of the smooth genus 3 curves with d = 5. from
appendix a with simple combinatorics follows that there are 1 + 35 + 105 + 7 + 140 + 7 +
140 + 105 + 35 + 1 = 576 curves all with moduli space p7 by (8.1)(5.3), hence contributing
(1)78576 = 4608 to n3
5. also from the table we read o that there are 7+21+21+7 = 56
5 = 56(1)89 = 504 from (8.1)(5.3) as there
genus24 4 curves with d = 5. in fact we have n4
are no g = 5 curves in classes with d = 5, which could degenerate to g = 4. the universal
curve for each of the of the 56  = 1 curves has by (8.4) e(c) = 8  10. application of
(4.15) gives hence a contribution of 56  80  (2  4  2)504 of the nodal curves to give a
total of n3

5 = 4608  7504 = 12112.

for the e8 del pezzo surface we obtained

d

1

2

3

r = 0

252

9252

1

2

762

2

3

4

5

6

7

4

848628 246788

30464 1548

7

4 114265008 76413073 26631112 5889840 835236 69587 2642 11

table 9: the weighted sum of bps states nr

d for the local e8 del pezzo.

24 note the classical fact that for xed d these curves are in the representation of the weyl-group

of e7.

54

the case of the e8 del pezzo is interesting because it can be easily can be related to
it was observed [24] that there
2 k3, which gives an additional check. extending [40]

the 1
is a modular anomaly in this case for higher genus.

more precisely let f = k 1

2 k3 the bre (also the canonical class) and b = e9 the base
class of the elliptic half k3 surface. following [24] we can solve the modular anomaly for
this two parameter subspace and write the contribution to fr for a xed base class n as a
quasimodular form p2g+2n2(e2, e4, e6) q
12n . in particular we can compare the diagonal
class ke8 = f + e9 and test the modular anomaly against the holomorphic anomaly
calculation. we observed complete accordance up to genus 8 degree 10.

m
2

8.6. the topological string perspective

in the local case one has for all genera an explicit virtual fundamental class on the

moduli spaces of maps and therefore a direct a-model localization calculation of the topo-

logical string amplitudes at higher genera is in principle possible [7]. at genus zero there is

a virtual fundamental class also for the global case the and equivalence of the a-model and

the b-model calculation was proven [41]. this sort of proof was adapted to the local case

[35]. hence as an immediate check we can perform in certain cases a-model computations

to compare with. however using the c = 1 kdv hierarchy and localization on the toric

ambient space becomes extremely dicult for high g, where the m -theory calculation is
still very easy, provided that  < max(d).

furthermore we can consider the b-model and use the m -theory calculation to resolve

the holomorphic ambiguity. the b-model, which has some additional simplications in

the local case [7], has the virtue that it comes naturally with the analytic techniques on the

complex moduli space of the mirror manifold, which allows us to relate the answers that

we get in the innite volume limit to physical systems at other degenerations by analytic

continuation. this yields further consistency checks.

to describe the analytic structure we note that the vectors ~a = (a1, a2)

p2 : ~a =(cid:18) 1
e6 : ~a =(cid:18) 1

2

3

,

,

2

3(cid:19) ,
3(cid:19) ,

2

p1  p1 : ~a =(cid:18) 1
4(cid:19) ,
e7 : ~a =(cid:18) 1

2

4

3

,

,

1

2(cid:19) ,
e8 : ~a =(cid:18) 1

e5 : ~a =(cid:18) 1
6(cid:19) ,

2

6

5

,

,

1

2(cid:19) ,

determine the picard-fuchs dierential equation, which governs the complex geometry of

the mirror for the local cases

 3  z

(  ai + 1)!zi

3yi=1

55

 = 0 .

(8.7)

they are solved by meiers g-function g(a1, a2, 1; x), compare with [42].
their riemann symbol is

in particular

(8.8)

0  1
0
0
0
1
0 a1
0 a2
1

p

, z

and shows that z = 0 is the maximally unipotent point, z = 1 is the conifold point. we
can also read from the riemann symbol that for the p1  p1 and the e5, z =  is not
an orbifold point, but has also logarithmic solutions25.

as in the quintic case of [2], it is convenient for the higher genus calculation to work

in the  variable as it avoids fractional exponents in the b-model propagators. in this
variables the yukawa are 26

  z,

y =

(x)33

(1  )

, with  =

di

lxi=1

(8.9)

the mirror map is normalized so that (x) =qk

j=1 wl is just the classical triple
intersection number expressed in terms of the degrees di of the complete intersections
and the weights of the ambient space. the en n = 5, . . . , 8 del pezzo surfaces can be
represented as complete intersections of degree (2, 2) in p4, a degree 3 hypersurface in
p3 , a degree 4 hypersurface in weighted projective space p3(1, 1, 1, 2) and a degree 6

i=1 di/ql

hypersurface in p(1, 1, 2, 3).

the b-model multi-loop contributions to the free energy are determined from the

holomorphic anomaly equations [2]. in solving these dierential equations one is left at
the end with a holomorphic ambiguity, which is a holomorphic section of l22g over the
complex moduli moduli space. with the right choice of gauge there is no singularity of

the holomorphic ambiguity at z = 0, but from the singularity structure is clear that we

have to generalize the ansatz for the ambiguity [2][7] to allow beside the singularities at
the conifold also for residue terms at z = . hence we make in general the ansatz

fr() =

2r2xk=0

ar
k
k +

br
k
2k ,

r1xk=1

(8.10)

25 further properties of the solutions have been made explicit in [43][44][7]. in particular the
monodromy is related to 0(n) for e9n [7].
26 the sign is minus for the local p1  p1 case and minus for all other cases. for the somewhat

exceptional p2 and p1  p1 case we have (x) = 1/3,  = 3 and (x) = 1, = 2.

56

where  = c1(1  ) and  = c2.

the nite number of constants ar

k can be xed by the direct calculation of the
nr
d, but at least part of it is also encoded in the universal behavior of fg at singular loci
in the moduli space. in particular near a conifold singularity one expects [45] from the

k, br

duality with the c = 1 critical string theory at the selfdual radius an expansion

fs3() =

1
2

2 log() 

1
12

log() +

xr=2

b2r

(2r  2)(2r)

22r

(8.11)

where b2r/(2r  2)2r =  1
240 ,
expansion of the type ii free energy f (t) = pr=0 2r2fr(t) (8.11) is a double scaling

limit in which the distance t to the conifold in the moduli space and the string coupling

1440 , . . . for g = 2, 3, 4, . . .. relative to the genus

1008 ,  1

1

go to zero while their ratio  is kept xed. this selects the corresponding leading term
2r2 form fr in (8.11). for the local propagators we use the same gauge as in [7]. in
this gauge the singular behavior at the conifold is captured entirely by the ambiguity. the
relation between t = (1  ) and  can be xed from the genus zero result by comparing
the asymptotic of the yukawa coupling with (8.11). we found the simple systematics

 = (1)(x)

for the local and  = i(1)
(x)

for the global cases.

it has been speculated that the next to leading order might be related to correlations
functions of the c = 1 string at the selfdual radius involving discrete states whose su (2)l
su (2)r charges could be read o from next to leading order monomial in the perturbations
of the local equations [46]. it would be very interesting to make this more concrete. at

any rate we will report this behavior at the conifold and other singularities along with our

previous results at the large complex structure limit. beside the verication of the claim

in [45] we nd also some regularities for the next to leading order residue. for instance,
we observed up to g = 4 that the ar
2r3 of the quintic calabi-yau threefold are exactly
2r3 for the local p1  p1 case, which in turn are identical to
(4/5) times smaller as the ar

the analogous quantities on the e6 del pezzo.

for the p2 case we xed the constants in the ambiguity (3.4) as follows

r

2

ar
1

ar
0
3e220
17280
99403e
4354560  2519
3
4 1864975+27 e
5 252764050243 e

43203
1814403
230400 3
2607911
3402003s5

587865600s5

2351462400

107

2117

ar
2
 1
240
6479

 13
14229281

653184
32949197
2351462400
164095927

1440 3
4408992003
8398080s 35952843613
359528436133s5

ar
3

ar
5

ar
6

ar

7 ar
8

ar
4

1

1008
143987
10886400
88814851411
1322697600s5

15041

1814400 3
616239319
61236003s5

1
1440
348989
11664s5

5519
3783s5

1
s5

57

with  = 3(1 + 3) and sg as in (8.11). this is in perfect agreement with expected
behaviour at the conifold.

because of the additional singularity at  = 0 the holomorphic ambiguity is more
interesting in the p1  p1 case. using the landau-ginzburg orbifold description the
mirror manifold can be represented as a hypersurface [45]

w = x2

1 + x2

2 + x2

3 + x2

4  2(cid:18)xx1x2x3x4 +



x(cid:19)

(8.12)

in a non-compact p4(2, 1, 1, 1, 1) . note that at x = 1, xi = 1 for  = 1 +  one has
the usual conifold singularity, but x = 1, xi = 0 for small  does not correspond to a
conifold singularity. because of the z2 (x  x; xi  xi) identication symmetry in the
p4(2, 1, 1, 1, 1) it rather is a s3/z2 lens space, called l(2, 1), which is shrinking. in the
iib picture this shrinking lens space creates a logarithmic singularity (with a logarithmic

shift by 2 at  = 0 due to the bound state of d-3 branes wrapping l(2, 1)). it explains

why we need here the poles at  = 0 in the generalized ansatz (3.4). in fact using the
relation  = 244, xed from the asymptotic behaviour of the yukawa coupling, we nd

r

2

ar
1
83

ar
0
e100
5760
100452e
2903040  413
3
4 8e935025
696729600

51840
1001683

5760

ar
3

ar
2
 1
240
5783
645120  193

ar
4

ar

5 ar
6

1

1008

2165347 16034329
21535527

40320
9924889

21435527 2871

27648

10001

2933527

1

1440

21634527

br
1
 23
 23
150671

48384

240

br

2 br
3

25
1008
3641
21333527

27
1440

thus the leading behavior at  = 0, captured in the br
particles with half the mass  leading to fl(2,1)() = 2fs3( 

i , is exactly as expected[46] for two

2 ) with fs3 as in (8.11).

for the en n = 5, . . . , 8 cases one expect a complicated singularity structure at  = 0,
due to the simultaneous occurence of light electric and magnetic states. for the e5 case
we got

r

2

ar
0
2e155
11520
2642532e
3
46448640
4 211e9710925

22235527

ar
1
83

ar
2
 1
240
6119

11520
3997
3317760
1405589
2215347 19054729
21935527

2580480

ar
3

ar
4

ar

5 ar
6

193
80640
10715449

1

1008

21735527 2057
212337

10001

21033527 1

1440 625063

21534527 137563

21033527 638

1440

br
1
 38
240
467

30240

br
2

br
3

158
1008

where we normalized (1 + 2) = /2 and 2 = /25. here we observe the same next to
leading order behavior at the conifold as in the p1  p1 examples. however the residue
at  = 0 has yet to be interpreted.

58

let shortly summarize the remaining cases. for the e6 we got

r

2

ar
1

ar
0
1660+27 e
2030081 e
117573120  10301
3
4 19683e11499775
1714216089600

12960 3
14696640 3
6364177
952342272003

155520

107

ar
2
 1
240
35419

29393280

 43056877

190468454400

ar
3

 13
15901121

4320 3
119042784003

ar
4

1

1008
 148787
97977600

15041

54432003

 1

1440

1
1
54 486

ar

5 ar

6 br

1 br
2

with (1 + 3) = /3 and 3 = /39. here we note that the next to leading order at the
conifold is 1

3 -times the one of the p2 theory.

the e7 case:

ar
1

143

ar
2
 1
240
68857

r

ar
0
8e635
2
46080
3 110215512e

743178240  749

230402
16588802
with (1 + 4) = /2 and 4 = /215.
finally for the e8:

ar

3 ar

4 br
1

61931520  131

537602

1

1008

1

r

2

ar
0
9e1100
51840
1277554e
3
78382080
4 1547875+5832 e

507915878400

ar
1
251

51840

ar
2
 1
240
225613

ar
3

ar
4

ar
5

ar
6

br
1

1399680

 517
2590747
96745881600  19158899

67722117120

156764160

 251
122105573

120960

1

1008

101583175680  43501

18662400

45281

21772800  1

1440

2525

3869835264

with  = (1 + 6) and  = 6.

9. computations in compact calabi-yau geometries

9.1. compact one modulus cases

here we analyze the higher genus contribution for compact one modulus calabi-yau

spaces. in this case there is no virtual fundamental class for the higher genus topological

string calculation known. in absence of this approach we combine the topological b model

calculation and the m -theory description of the invariants to determine the higher genus
fr. we can carry out the m-theory computation of certain ng
be able to make much further progress even in the compact case once we understand how
to systematically correct for singularities in the relative hilbert schemes c(k) for k  .

for small . we expect to

examples are hypersurfaces or complete intersections in weighted projective space

d

which avoid the singularities of the ambient space. denoting a complete intersection of

59

degree (d1, . . . , dk) in pn(w1, . . . , wl) by xd1,...,dk (w1, . . . , wl)27 we have the following com-
plete list of such examples (compare the the second ref. in [47] for the r = 0, g = 1 results)

x5(15) :~a = (

x10(13, 2, 5) :~a = (

x3,2,2(17) :~a = (

x4,4(14, 22) :~a = (

x6,4(13, 22, 3) :~a = (

,

2
6

,

4
6

,

5
6

,

1
5
1
,
10
1
3
1
4
1
6

,

,

,

,

2
5
3
,
10
2
3
3
4
5
6

,

,

,

3
5

,

4
5

,

7
,
10
1
1
2
2
1
3
4
4
3
1
4
4

,

,

,

,

), x6(14, 2) :~a = (

1
6
), x3,3(16) :~a = (

9
1
3
10
1
), x2,2,2,2(18) :~a = (
2
1
6

2
3
1
2
1
2
), x6,6(12, 22, 32) :~a = (

), x6,2(15, 3) :~a = (

,

,

,

,

,

1
3
1
2
5
6

,

,

2
3
1
2
1
2

),

1
6

,

5
6

,

1
6

,

5
6

)

,

,

,

), x8(14, 4) :~a = (

1
3
8
8
1
1
), x4,2(16) :~a = (
2
4
2
1
) x4,3(15, 2) :~a = (
,
,
3
3

5
8
3
4
1
,
4

,

,

,

),

7
8
1
2
3
),
4

),

the components of the vector ~a specify the picard-fuchs operator for the mirror

manifold as follows

from the riemann symbol

 4  z

( + ai)!zi

4yi=1

 = 0 .

(9.1)

0  1
0
0 a1
1
0 a2
0 a3
2
1
0 a4

p

, z

(9.2)

we conclude that z = 0 is the maximally unipotent point with three logarithmic solutions

and z = 1 is the conifold point with one logarithmic solution. from the riemann symbol
it also clear that the hypersurfaces have a cyclic monodromy of order28  (with  as in
(8.9)) at z = , while the complete intersections have degenerate indices and therefore
logarithmic degeneration of the periods with shift monodromy and vanishing cycles at
z = , which justies the general ansatz for the ambiguity (8.10). we choose the gauge
so that the propagators of the b are regular at the conifold and at z = . this amounts,
in the notation of sections 7.2 of [2], to a choice of f () =  for quintic and sextic,
f () = 2 for the bicubic and f () = 4 for the four conics, while v() = 1 for all cases.

the normalization of the yukawa couplings is as in (8.9).

27 n-times repeating weights will be denoted by wn
i .
28 for the hypersurfaces this was just an orbifold singularity with non-vanishing b-eld. in
fact the triple intersection corresponds to canonical normalized kinetic terms, precisely to the one

calculated in the associated gepner model [17].

60

9.2. higher genus results on the quintic

we come now to the simplest compact calabi-yau, the zero locus of the quintic

5xi=1

x5
i  5

5yi=1

xi = 0.

(9.3)

, the three-point

5n!

(n!)5(cid:0) z
55(cid:1)n

in p4. the unique analytic solution at z = 0 is w0 =pn=0

coupling is as in (8.9). the rational and elliptic curves have been computed in [17][6].

d

1

2

3

4

5

6

7

r = 0

2875

609250

317206375

242467530000

1

0

0

609250

3721431625

229305888887625

12129909700200

248249742118022000

31147299733286500

295091050570845659250

71578406022880761750

8 375632160937476603550000 154990541752961568418125

table 10.a: the weighted sum of bps states nr

d for the quintic.

we agree with those results. note however that the bps numbers on the genus 1 cases dier

from the invariants dened in [6], where the maps from the torus to itself are subtracted

as explained in sec 3.3.

unlike the non-compact cases, the reduction of the holomorphic anomaly involves a

global property of the model, the euler number. the general form of f2 has been given
29. in view of

in [2]. in appendix b we give the complete result of the reduction of f3

the fast growing number of terms in fr with g one may hope that the ring of modular

functions on the moduli space of the concrete calabi-yau  here the quintic transforming
in l22r has a much lower dimension, so that there are many relations between the terms
in fr. restricting the expression given in appendix b for f3 to the one-moduli case one

has 50 terms of dierent functional form. somewhat surprisingly we nd only one relation

between the terms, which is reported in the appendix b.

with these formulas we obtain the following r = 2, 3 results.

29 the f4, f5 expressions can be made available on request.

61

d

1

2

3

4

5

6

7

r = 2

0

0

0

3

0

0

0

534750

75478987900

8625

15663750

4

0

0

0

0

15520

871708139638250

3156446162875

7845381850

5185462556617269625

111468926053022750

243680873841500

8 22516841063105917766750 1303464598408583455000 25509502355913526750

table 10.b: the weighted sum of bps states nr

d for the quintic.

note that for d > 7 the numbers of genus 2 invariants are expected to dier from the ones

given in [2], because of the dierent denition of the integer invariants related to f2.

using the vanishing of n2

3 = 0, as explained below, we can x the genus
2 ambiguity. comparing (8.9) with (8.11) we learn that the distance to the singularity

1 = n2

2 = n2

t = (1  z) = i/. written in terms of  it reads

f2 = 

571

36000

+

83i

72005

1 

1

240

2 .

note that the leading singularity conrms (8.11). further the constant map contribution

is in accordance with [2][11].

that n2

to x the genus 3 anomaly we used the vanishing of n2
2 = n2
4 = (1)2  3  2875 = 8625, as explained below. the number n3

3 = 0 and the fact
5 turns out to be
negative, which is plausible as these curves come in singular families, but the actual value

1 = n2

has not been checked. together with [11] for the constant map piece this determines

f3 =

26857

126000000

+

356921i

5670000005

1 

5393

5040000

2 

193i

504005

3 +

1

1008

4 ,

i.e. the leading behavior is in perfect agreement with the c = 1 interpretation at the
conifold singularity. we note that the old denition of the invariant yielding n2
8 =
22516841063105918836250 seems incompatible with the bps interpretation as it destroys

the integrality of the expansion of f3. the leading behavior of the ambiguity at genus 4 is

f4 = . . . +

10001i

30240005

5 

1

1440

6

most notably in order to get an integer expansion we had also to assume that there is also
a residue at 5 = 0 more precisely f4  11853023518768

5.

8859375

62

we turn our attention to the application of (5.6) to verify some of the instanton

numbers that we have calculated for the quintic. before we can do this, we have to

understand the restrictions on the degree and arithmetic genus of a curve in projective

space. this is part of the subject of castelnuovo theory [48] [49]. castelnuovo theory

gives the maximum arithmetic genus of a nondegenerate irreducible curve c of degree d
in pr. here, nondegenerate means that c is not contained in any hyperplane. this is not

a restriction, since any curve is nondegenerate inside the linear subspace that it spans.
we give a somewhat detailed description for p2, p3, and a general formula for pr.
in p2, castelnuovo theory is trivial, since a degree d curve necessarily has arithmetic

genus g = (d  1)(d  2)/2.

in p3, the result of [50] says that a nondegenerate curve of degree d either lies on a

quadric surface or else there is a number g(d) (to be described presently) such that any
curve in p3 has genus g  g(d).

note that a quadric surface is just p1p1 so all possibilities for (d, g) can be computed
from the bidegrees (a, b) and d = a + b, g = (a 1)(b 1). some easy algebra shows that a
curve with degree and genus (d, g) can be found on a quadric precisely when (d  2)2  4g
is a perfect square.

for g(d), we get

g(d) =

=

d2  3d + 6
d2  3d + 2

6

6

d  0(mod 3)

d 6 0(mod 3)

(9.4)

for pr, we give a less complete answer, and just note that the maximum genus possible

is found by writing

with 0   < m. the formula is

d  1 = m(r  1) + 

g (cid:18)m

2(cid:19)(r  1) + m.

(9.5)

if r = 3, it can be checked that the right hand side of (9.5) is the genus of a degree d curve

on a quadric, compare with section 8.4.

lets apply these formulas to the quintic in low degree.

for d = 1, 2, it is clear that the only genus possible is 0. for d = 3, we can get g = 1
in the plane, and g = 0 is possible, even in p3 (e.g. bidegree (2, 1) in p1  p1). thus
ng
1 = ng

2 = 0 for g > 1, consistent with tables 10.a and 10.b.

2 = 0 for g > 0 and ng

63

now d = 4 is more interesting. this is possible in p2 only for g = 3. in p3 it is either
on a quadric or g  1 by castelnuovo theory. but we check immediately that g = 0, 1 are
the only possibilities on a quadric as well. applying castelnuovo theory to p4, we again
get g  1. so g = 2 is impossible on a quintic, and ng

4 = 0 for g  4.

but this discussion does not mean that n2

4 vanishes. quite the contrary, we can
apply (5.4) and (5.6) to the family of g = 3 curves, which are plane quartics. the plane

intersects the quintic in a quintic plane curve containing the quartic, leaving a residual

line. so we get the moduli space of these d = 4, g = 3 curves by taking a line on the

quintic, and passing all possible 2-planes through it, leaving a quartic over by reversing
the above reasoning. so the moduli space is 2875 copies of m = p2. in passing, we note
that n3
4 = 2875(3) = 8625 by (5.3). the universal curve c is a bit subtle. the projection
c  x (x is the quintic) is 1-1 except over the line (since a point of x not on the line
determines a unique 2-plane containing the line). but the ber of this projection over the
line is a p1, so we must add 2 to the euler characteristic of the cy (200) to get the
euler characteristic (198) of c. then the rst equation in (5.4) together with (5.6) gives
for n2
4 the quantity 2875(1)(198 + (4)(3)) = 534750, as there are no reducible curves of

degree 4 in the plane. this is in agreement with table 10.b.

we can similarly apply castelnuovo theory to degree 5. here the result is that plane

quintics have genus 6, and otherwise the genus is at most 2. the moduli space of plane

quintic curves is the same as the moduli space g = g(2, 4) of p2s in p4. by (5.3), we get
5 = (1)6e(g) = 10. we can also in principle get ng
n6
5 for 3  g  5 from (5.4) and (5.6).
unfortunately, we dont know how to compute the euler characteristic of c(3), so we can
only compute ng

5 for g = 4, 5 at present.

we can calculate e(c) as usual by considering the projection c  x. the ber over
a point p  x is identied with the set of 2 planes in p4 which contain p. this in turn
is identied with the grassmannian g(1, 3) of lines in p3. so e(c) = e(x)e(g(1, 4)) =
200  10 = 2000. then the rst equation in (5.4) together with (5.6) gives n5
5 =
(1)5(2000 + (2  3  2)10) = 1960.

the map c(2)  hilb2x has ber over z  hilb2x the set of all 2 planes in p4
containing z. since z is either a pair of distinct points or a single point of multiplicity 2

with a distinct tangent direction, we see that this ber is isomorphic to p3 in either case.

64

also, hilb2x is obtained from the symmetric product sym2x by blowing up the diagonal,
replacing each point of the diagonal with a p2. thus

e(hilb2) = e(sym2x) + e(x)(e(p2)  1)
2 (cid:19) + (200)  2 = 19500

=(cid:18)199

from which it follows from the second equation in (5.4) together with (5.6) that n4

5 = 15520.
for 0  g  2, there are both smooth curves of degree 5 and genus g in the quintic as
well as a contribution from singular plane quintics. in the case of g = 0, there are actually

nitely many singular curves, which were enumerated in [10].

9.3. the sextic, the bicubic and four conics

a further typical hypersurface example is the sextic in the weighted projective space

p4(1, 1, 1, 1, 2). we nd the following all integer30 nr

d invariants for this case

d

1

2

3

4

5

6

7

r = 0

7884

6028452

11900417220

34600752005688

1

0

7884

145114704

1773044322885

124595034333130080

17144900584158168

513797193321737210316

147664736456952923604

2326721904320912944749252

1197243574587406496495592

8 11284058913384803271372834984 9381487423491392389034886369

d

1

2

3

4

5

6

7

8

r = 2

0

0

17496

3

0

0

576

10801446444

571861298748384

14966100

1412012838168

13753100019804005556

403369763928730938

233127389355701229349884

552961951281452536352

3246006977306701566424657380

560485610266924061005490676

the ambiguity can be xed from the vanishing of n2

table 11: the weighted sum of bps states nr
1 = n2

d for the sextic.
2 = 0 plus the general form of

30 in [2] it was claimed that this example has a half-integral invariant for n(2)

4 , which would
be in contradiction with the m-theory interpretation of the r2f 2g2 amplitude. luckily we nd
that the problem relied on a computational error.

65

the constant map contribution. again we nd the leading term of f2 in accordance with
(8.11) f2 =  473

25920  463
518403

1  1

240 2.

for the genus 3 contribution we can x a combination of n3

4 by demanding the

3, n3

3917

f3 =

expected behavior of the 4 term in
1175731203
4 = 36(865581+781n3

26127360

61447i

+

107945
94058496

1 
3). the fact the 3 term is a relatively simple fraction

80643

2 

3 +

4 .

1008

25i

1

this yields n3
for other cases leads to the conjecture that the correct value is n3

3 = 576.

this can be checked by geometry as follows. note that by projection to the rst four
coordinates, x admits a 3  1 cover of p3. writing the equation of the cy in the form

x3
5 + f4(x1, x2, x3, x4)x5 + f6(x1, x2, x3, x4) = 0

4 + 27f 2

we see that the branch locus 4f 3
6 has degree 12. a curve of degree 3 must either
map isomorphically to a degree 3 curve in p3 or be a triple cover of a line. since degree 3
curves have genus at most 1, and we are interested in genus 3, we must have a triple cover
of a line branched at 4 points, which has genus 4. thus m = g(1, 3), the grassmannian
of p1s in p3. this has dimension 4 and euler characteristic 6. so we already see that
n4

3 = 6.

we project the universal curve to x as usual; the ber over p  x is the set of
triple covers of lines which contain p, which is in 1-1 correspondence with the set of
lines in p3 which contain the image of p in p3. this is isomorphic to p2. we get
e(c) = e(p2)e(x) = 3(204) = 612. now an application of the rst equation in (5.4)
and (5.6) gives (1)3(612 + 6  6) = 576.

we next consider as simplest complete intersection cases two cubics in p5, i.e. x3,3(16)

and four conics in p7, denoted x2,2,2,2(18).

d

1

2

3

4

5

6

7

r = 0

1053

52812

6424326

1139448384

249787892583

1

0

0

3402

5520393

2

0

0

0

0

4820744484

5520393

3

0

0

0

0

0

62660964509532

3163476678678

23395810338

6852978

17256453900822009

1798399482469092

42200615912499

174007524240

8 5088842568426162960 944929890847710108 50349477671013600 785786604262830

table 12: the weighted sum of bps states nr

d for the compl. intersection x3,3(16).

66

r = 0

512

9728

416256

25703936

1957983744

1

0

0

0

14752

8782848

2

0

0

0

0

0

3

0

0

0

0

0

0

d

1

2

3

4

5

6

7

ar
r
0
2  2861
116640
1921447
3

6348948480

ar
1
103i
15552

ar
2
 1
240
2116316160  118421

1358671 i

70543872  377 i

181440

1

1008

ar

3 ar
4

br
2

br
1
 71
64
5
27648  240501

35840

with  = 3(1  6)/i  = 366.

170535923200

2672004608

1427968

16300354777600

615920502784

2440504320

86016

8 1668063096387072 123699143078400 1628589698304 2403984384

table 13: the weighted sum of bps states nr
the indices of the picard-fuchs system is 4 fold degenerate at 8 = 0 and we nd the

d for the compl. intersection x2,2,2,2(18).

leading behavior from the ambiguity

r

2

3

ar
0
 133741
2949120

110365853

1014686023680

ar
1
349i
46080

ar
2
 1
240
1698693120  30277

1859479 i

13762560  149 i

64512

ar

3 ar
4

br
1
 5377
15
1008  2181905

221184

1

br
2

23115884

2835

with  = 4(1 8)/i and  = 8216. it would be very interesting to nd the analog of the
c = 1 model at the  = 0 singularity.

acknowledgement: it is a pleasure to thank tom graber, brian harbourne, shinobu

hosono, j. maldacena, rick miranda, s.-t. yau and eric zaslow for valuable discussions

and comments. c.v. would also like to thank rutgers physics department for hospitality

while this work was in progress. the research of sheldon katz was supported in part by

nsa grant mda904-98-1-0009. the research of albrecht klemm was supported in part

by a dfg heisenberg fellowship and nsf math/phys dms-9627351. the research of

cumrun vafa was supported in part by nsf grant phy-92-18167. this project received

additional support from the american institute of mathematics.

67

10. appendix a: low degree classes on the del pezzo surfaces

d

g = 0 classes

1|(1; 12) 2| (2; 15) 5| (3; 2, 16) 7| (6; 3, 27) (5; 26, 12) (4; 23, 15) 8|

1 ei
2 (1; 1) 1|(2; 14) 4|(3; 2, 15) 6|(5; 26, 1) (4; 23, 14) 7|

(11; 47, 3) (10; 44, 34) (9; 42, 35, 2) (8; 4, 34, 23) (8; 37, 1) (7; 4, 3, 26) (7; 34, 23, 1)
(6; 32, 24, 12) (5; 3, 23, 14) (4; 3, 17) 8|

3 (1; 0) 0| (2; 13) 3|(3; 2, 14) 5|(5; 26) (4; 23, 13) 6|

(8; 37) (7; 34, 23) (6; 32, 24, 1) (5; 3, 23, 13) (4; 3, 16) 7|

4 (2; 12) 2|(3; 2, 13) 4|(4; 23, 12) 5|(6; 32, 24) (5; 3, 23, 12) (4; 3, 15) 6|
5 (2; 1) 1|(3; 2, 12) 3|(4; 23, 1) 4|(5; 3, 23, 1) (4; 3, 14) 5|

(8; 4, 35) (7; 4, 32, 23) (7; 35, 1) (6; 33, 2, 12) (6; 4, 24, 1) (5; 32, 14) 6|

6 (2; 0)0| (3; 2, 1) 2| (4; 23) 3| (5; 3, 23) (4; 3, 13) 4|(7; 35) (6; 33, 2, 1) (6; 4, 24) (5; 32, 13) 5|
7 (3; 2) 1|(4; 3, 12) 3|(6; 33, 2) (5; 32, 12) 4|

(8; 42, 33) (7; 4, 33, 1) (7; 42, 23) (6; 4, 3, 2, 12) (5; 4, 14) 5|

8 (4; 3, 1) 2|(5; 32, 1) 3|(7; 4, 33) (6; 4, 3, 2, 1) (5; 4, 13) 4|

g = 1 classes

1 (3; 18) 8|
2 (3; 17) 7|(9; 4, 37) (8; 36, 22) (7; 33, 25) (6; 3, 26, 1) (5; 25, 13) (4; 22, 16) 8|
3 (3; 16) 6|(6; 3, 26) (5; 25, 12) (4; 22, 15) 7|
4 (3; 15) 5| (5; 25, 1) (4; 22, 14) 6|

(9; 42, 35) (8; 4, 34, 22) (7; 34, 22, 1) (7; 4, 3, 25) (6; 32, 23, 12) (5; 3, 22, 14) 7|

5 (3; 14) 4|(5; 25) (4; 22, 13) 5| (7; 34, 22) (6; 32, 23, 1) (5; 3, 22, 13) 6|
6 (3; 13) 3|(4; 22, 12) 4|(6; 32, 23) (5; 3, 22, 12) 5|

(9; 43, 33) (8; 42, 32, 22) (7; 4, 32, 22, 1) (6; 4, 23, 12) (6; 33, 13) 6|

7 (3; 12) 2|(4; 22, 1) 3|(5; 3, 22, 1) 4|(7; 4, 32, 22) (6; 4, 23, 1) (6; 33, 12) 5|
8 (3; 1) 1|(4; 22) 2|(5; 3, 22) 3|(6; 4, 23) (6; 33, 1) 4|

g = 2 classes

2 (6; 28) 8|
3 (14; 57, 4) (13; 54, 44) (12; 52, 45, 3) (11; 47, 2) (11; 5, 44, 33) (10; 44, 33, 2) (10; 5, 4, 36)

(9; 42, 34, 22) (8; 4, 33, 24) (8; 36, 2, 1) (7; 4, 27) (7; 33, 24, 1) (6; 3, 25, 12) (5; 24, 14)
(4; 2, 17) 8|

4 (8; 36, 2) (7; 33, 24) (6; 3, 25, 1) (5; 24, 13) (4; 2, 16) 7|
5 (6; 3, 25) (5; 24, 12) (4; 2, 15) 6|
6 (5; 24, 1) (4; 2, 14) 5| (8; 4, 34, 2) (7; 34, 2, 1) (7; 4, 3, 24) (6; 32, 22, 12) (5; 3, 2, 14) 6|
7 (5; 24) (4; 2, 13) 4|(7; 34, 2) (6; 32, 22, 1) (5; 3, 2, 13) 5|
8 (4; 2, 12) 3|(6; 32, 22) (5; 3, 2, 12) 4|(8; 42, 32, 2) (7; 4, 32, 2, 1) (6; 4, 22, 12) 5|

68

d
3 (12; 5, 47) (11; 46, 32) (10; 43, 35) (9; 4, 36, 2) (8; 35, 23) (7; 32, 26) (6; 27, 1) 8|
4 (6; 27) 7|
5 (11; 47) (10; 44, 33) (9; 42, 34, 2) (8; 36, 1) (8; 4, 33, 23) (7; 4, 26) (7; 33, 23, 1)

g = 3 classes

(6; 3, 24, 12) (5; 23, 14) (4; 17) 7|

6 (8; 36) (7; 33, 23) (6; 3, 24, 1) (5; 23, 13) (4; 16) 6|
7 (6; 3, 24) (5; 23, 12) (4; 15) 5|
8 (5; 23, 1) (4; 14) 4| (8; 4, 34) (7; 34, 1) (7; 4, 3, 23) (6; 32, 2, 12) (5; 3, 14) 5|

g = 4 classes

3 (9; 38) 8|
4 (18; 72, 66) (17; 7, 65, 52) . . .8 |
5 (9; 4, 36) (8; 35, 22) (7; 32, 25) (6; 26, 1) 7|
6 (6; 26) 6|

(13; 55, 42) (12; 6, 46) (12; 53, 43, 3) (11; 5, 45, 2) (11; 52, 42, 33) (10; 45, 22) (10; 5, 42, 33, 2)
(9; 43, 3, 23) (9; 42, 34, 1) (9; 5, 34, 22) (8; 4, 33, 22, 1) (8; 42, 25) (7; 4, 25, 1) (7; 33, 22, 12)
(6; 3, 23, 13) (5; 22, 15) 7|

7 (9; 42, 34) (8; 4, 33, 22) (7; 4, 25) (7; 33, 22, 1) (6; 3, 23, 12) (5; 22, 14) 6|
8 (7; 33, 22) (6; 3, 23, 1) (5; 22, 13) 5|

g = 5 classes

4 (17; 67, 5) (16; 64, 54) (15; 62, 55, 4) (14; 6, 54, 43) (14; 57, 3) (13; 54, 43, 3) (13; 6, 5, 46)

(12; 52, 44, 32) (11; 46, 3, 2) (11; 5, 43, 34) (10; 5, 37) (10; 43, 34, 2) (9; 4, 35, 22) (8; 34, 24)
(7; 3, 27) 8|

5 (18; 8, 73, 54) . . .8 |
6 (12; 52, 45) (11; 5, 44, 32) (10; 44, 32, 2) (10; 5, 4, 35) (9; 42, 33, 22) (8; 35, 2, 1) (8; 4, 32, 24)

(7; 32, 24, 1) (6; 25, 12) 7|

7 (8; 35, 2) (7; 32, 24) (6; 25, 1) 6|
8 (6; 25) 5|

g = 6 classes

4 (15; 6, 57) (14; 56, 42) (13; 53, 45) (12; 5, 46, 3) (11; 45, 33) (10; 42, 36) (9; 37, 2) 8|
5 (18; 8, 7, 65, 4) . . .8 |
6 (11; 46, 3) (10; 43, 34) (9; 4, 35, 2) (8; 34, 23) (7; 3, 26) 7|
7 (15; 63, 54) . . .7 |
8 (10; 44, 32) (9; 42, 33, 2) (8; 35, 1) (8; 4, 32, 23) (7; 32, 23, 1) (6; 24, 12) 6|

69

11. appendix b: b-model expression for fg

the fg can be determined by recursively solving the b-model anomaly equation [2].

as each contribution comes from the boundary of the moduli space of riemann surfaces the

result has a graph interpretation in which each graph corresponds to a possible degeneration

of the genus g curve into components with lower genera. in the local case the descendent
of the dilaton decouples and only one sort of propagator si,j occurs. they are in one

to one correspondence with the tubes connecting the irreducible components, in this way

each contribution of fg corresponds precisely to one boundary stratum [7]. in the global

case one has three sorts of propagators shown below

propagors:

i j

-s

irreducible components:

g=0

g=1

g=2

i

-s



-2 s

(1)

 = (

f

1 )_

24

the following feynman rules hold for n, m = 0, 1, 2 . . .

f (0)
n = 0, f (0)

in = 0, f (0)

ijn = 0, f (g)

i1,...im,n+1 = (2g  2 + n + m) = f (g)

i1,...im,n

the graph contribution is divided by the following symmetry factors: k! for k equal
(self)links joining the same vertices, 2 for each selink s,, si,i times the order of the

graph automorphism obtained by permuting the vertices. the generation of graphs pro-

ceeds along the line described for the the a-model in [7].

twelve graphs contribute to f2, which were derived in [2]. further we nd that 193

graphs contribute to the free energy at genus 3. as it depends in an universal combinatorial

way on the lower genus boundary components, which also applies more generally to non-

topological string 3 loop calculations, and we have a powerfull check via integrality of the

bps states on the quintic on its expression, we will give it below, despite its complicated
nature. let  = 
24 with  the euler number of the target space, f the genus 0 prepotential,
g = f1, h = f2 and sij, si, s the propagators of kodaira-spencer gravity [2] , then we
found

70

f3 = 2(1 + 2 )hs + (1 +   2 2)s2 + 2gihsi + (2 + )hisi  2 (1 + 2 )gis si

hijsij  (1 + 2 )gigjs sij  (1 + 2 )gijs sij  gigjgksksij  (2 + )gigjksksij

1
2

(2 + 3   2)gijsisj +

(2 + 3 )gigj sisj 

1
2
1
2
(1 + )gijksksij + (1 + 2 )fijks sksij +

1
4
(2 + 3  + 2)fijkglsjsksil  gigjksisjk 

(2 + 3  + 2)fijksisj sk + gihjsij +

1
6

(2 + 3  + 2)fijklskslsij 

gigjgklsilsjk + (1 +

1
2

gigjklsilsjk+

1
2

)fijkglskslsij

3
2
)fijkglmsmsilsjk+

1
2
1
2

1
8
1
8
1
6
1
6
1
16
1
4
1
16
1
4
1
4
1
4
1
4
1
4
1
2
1
16
1
12

fijkhlsilsjk + (1 + 2 )fijkglssilsjk + fijkglgmsmsilsjk + (1 +

1
2

(1 +

(1 +

1
2
1
2

)fijklgmslsimsjk 

)fijkglmsksilsjm 

(2 + )fijklmsmsijskl +

gijgklsiksjl + (1 +

1
4
1
4
fijklgmsmsijskl +

1
4

(2 + )fijkflmnfpqrsksipsjnslmsqr +

)fijkglgmsksimsjl 

1
2

gijklsijskl+

1
8

(2 + 3  + 2)fijkflmnsksnsilsjm +

(1 + 2 )fijkls sijskl+

1
4

1
4

(1 + )fijkflmnfpqrsrsilsjpsknsmq+

fijklgmnsimsjnskl +

1
4

1
2

fijkglgmnsimsjnskl+

fijkglmnsilsjmskn 

(1 + 2 )fijkflmns silsjmskn 

1
6

(1 + )fijkflmnpspsilsjmskn

1
6

fijkflmngpspsilsjmskn 

(2 + )fijkflmngpsnsilsjmskp +

1
2

fijkglgmsksijslm+

1
2

fijkflmnfpqrssijsksslmsnpsqr 

1
8
(2 + 3  + 2)fijkflmnsjsksinslm 

(2 + 3 )fijkflmnsksnsijslm 

fijkflmngpsnsipsjkslm

1
2

(2 + )fijkflmngpsksipsjnslm +

1
2

fijklmgnsijsknslm

1
8

fijkflmnfpqrfstusissjtsknslpsmqsru +

fijkglmnsijsknslm +

1
4

1
48

fijklmnsijsklsmn

fijkflmngpspsij sknslm 

1
4
fijkflmngpqsipsjqsknslm 

1
48
(1 + 2 )fijkflmns sijsknslm 

fijkflmngpgqsilsjqsknsmp 

(2 + )fijkflmnpspsijsknslm +

fijklfmnpqsimsjnskpslq 

1
4

fijkflmnfpqrssipsjqskrslssmn

1
12
(2 + )fijkflmnpsksilsjpsmn

fijkflmnpgqsilsjqskpsmn 

1
4
fijkflmngpqsilsjpsknsmq 

1
4
1
12

fijkflmngpgqsipsjqsknslm

fijkflmnpqsilsjmskqsnp+

1
4

fijkflmnfpqrssipsjqsknslrsms +

1
8

fijklgmgnsimsjnskl+

1
4

fijkflmnfpqrgssipsjssknslqsmr +

fijkglgmnsijsknslm +

1
16
fijklfmnpqsijskmslqsnp +

fijkflmnpqsijskqslmsnp 

1
48

fijkflmnfpqrfstusipsjssknslmsqrstu

1
4

(2 + )fijkflmnfpqrsnsilsjmskrspq 

1
6

fijkflmnpgqsilsjmskpsnq+

fijkflmnfpqrsrsilsjmsknspq 

fijkflmnpgqsijsklsmqsnp +

1
4

1
8

fijkflmnfpqrgssipsjssknslmsqr+

71

fijkflmnpsksijslmsnp 

1
24

fijkflmnfpqrfstusipsjssknslqsmtsru 

fijkflmnfpqrsrsijsknslmspq +

1
8
fijkflmnfpqrssilsjmskssnpsqr +

1
8

fijkglgmgnsimsjnskl+

1
6
1
2
1
fijkflmngpqsijskqslmsnp
8

fijkglmsksijslm

fijkflmnfpqrgssilsjmskrsnsspq +

fijkflmnfpqrssilsjpskssmnsqr +

1
4
1
8
1
8
fijkhsksij 

1
16

fijkflmnfpqrfstusilsjmskrsnsspqstu 

1
8

fijkflmnfpqrfstusilsjpskusmqsnrsst

4780 graphs contribute to f4, which starts with

f (4) =

s3

248832

(  24)(1728 + 168 + 52) + . . .

this rst term comes from the graphs

1
2

1
3!

1
4

1
3!

1
4

1
2 3!

1
8

1
2

1
2

1
8

1
8 3!

the contributions of the remaining graphs have been calculated and used to evaluate

the generating function for the genus 4 curves on the quintic see table 10. 172631 graphs

contribute to f5. these data are available on request.

we nally report a ward-identity between the correlators at genus 3 on the quintic.

(s)4(134560sf 3

3372ffg + 1440f 2

  7305(s)2  8139f 2
  4sf 2

g2

 + 3364ff
(2877fg  1697f)+

20184f 2

g) = 0.

72

references

[1] c. vafa and r. gopakumar, m-theory and topological strings-i & ii, hep-

th/9809187, hep-th/9812127.

[3]

[2] m. bershadsky, s. cecotti, h. ooguri, and c. vafa, kodaira-spencer theory of grav-
ity and exact results for quantum string amplitudes, commun. math. phys. 165
(1994) 311-428.
i. antoniadis, e. gava, k.s. narain, t.r. taylor, topological amplitudes in string
theory , nucl. phys. b413 (1994)162, hep-th/9307158 i. antoniadis, e. gava, k.
s. narain, moduli corrections to gravitational couplings from sring loops, phys.
lett. b238 (1992)209, hep-th/9203071 and moduli corrections to gauge and grav-
itational couplings in four-dimensional superstrings, nucl. phys. b383 (1992)93,
hep-th/9204030
i. antoniadis, e. gava, k. s. narain and t. r. taylor, nucl.phys. b455 (1995) 109-
130, hep-th/9507115

[4]

[5] d.a. cox and s. katz, mirror symmetry and algebraic geometry, mathematical

surveys and monographs vol. 68, amer. math. soc., providence, ri 1999

[6] m. bershadsky, s. cecotti, h. ooguri, and c. vafa, holomorphic anomalies in topo-

logical field theories, nucl. phys. 405b (1993) 279-304.

[7] a. klemm and e. zaslow, local mirror symmetry at higher genus, hep-th/9906046
[8] p. candelas, x. c. de la ossa, p. green, and l parkes, a pair of calabi-yau
manifolds as an exactly soluble superconformal theory, nucl. phys. b359 (1991)
21.

[9] p. aspinwall and d. morrison, topological field theory and rational curves, com-
mun. math. phys. 51 (1993) 245-262, yu. i. manin, generating functions in alge-
braic geometry and sums over trees in the moduli space of curves (texel island,
1994), progr. math. 129, birkhauser, boston (1995) 401417; alg-geom/9407005, c.
voisin, a mathematical proof of a formula of aspinwall and morrison, comp. math.
104 (1996) 135-151.
i. vainsencher, enumeration of n-fold tangent hyperplanes to a surface, j. algebraic
geom. 4, 1995, 503526, alg-geom/9312012

[10]

[11] c. faber and r. pandharipande, hodge integrals and gromov-witten theory,

math.ag/9810173

[12] e.witten, two-dimensional gravity and intersection theory on moduli space, sur-

veys in dierential geometry 1 (1991) 243-310.

[13] m. kontsevich, intersection theory on the moduli space of curves and the matrix

airy function, comm. math. phys. 147 (1992). 1-23

[14] c. faber, algorithm for computing intersection numbers on moduli spaces
of curves, with an application to the class of the locus of the jacobians,
math.ag/9706006.

73

[15] s. katz, d.r. morrison, and m.r. plesser, nucl. phys. b477 (1996) 105, hep-

th/9601108.

[16] a. lawrence and n. nekrasov,instanton sums and ve-dimensional gauge theories,

nucl. phys. b513 (1998)239, hep-th/9706025

[17] p. candelas, x. de la ossa, p. green, and l. parkes, nucl. phys. b359 (1991)21-74
[18] p. griths and j. harris, principles of algebraic geometry, wiley-interscience, new

york 1978.

[19] s.-t. yau and e. zaslow, bps states, string duality, and nodal curves on k3,

nucl. phys. b471 (1996) 503-512; hep-th/9512121.

[20] j. bryan, n.c. leung, s. katz, in preparation.
[21] a. beauville, duke math. j. 97 (1999) 99108
[22] w. lerche and s. stieberger, 1/4 bps states and non-perturbative couplings in

n=4 string theories, hep-th/9907133 .

[23] e. witten, string theory dynamics in various dimensions, nucl. phys. b443

(1995)85, hep-th/9503124

[24] s. hosono, m.-h. saito, and a. takahashi, holomorphic anomaly equation and bps

state counting of rational elliptic surface, hep-th/9901151.

[25] m. marino and g. moore, counting higher genus curves in a calabi-yau manifold,

nucl. phys. b543 592-614 (1999), hep-th/9808131

[26] m. berschadsky, v. sadov and c. vafa, d-branes and toplological field theories,
nucl. phys. b463 (1996)420, hep-th/9511222 c. vafa, lectures on strings and du-
alities, hep-th/9702201

[27] l. gottsche, math. ann. (1990) 255
[28] j. bryan, n.c. leung, the enumerative geometry of k3 surfaces and modular forms,

alg-geom/971103 .

[29] a. strominger and c. vafa , microscopic origin of the bekenstein-hawking entropy,

phys. lett. b379 (1996)99, hep-th/9601029

[30] j.c. breckenridge, r.c. myers, a.w. peet, c. vafa, d-branes and spinning black

holes, phys. lett. b391 (1997)93, hep-th/9602065

[31] r. dijkgraaf, g. moore, e. verlinde and h. verlinde, elliptic genus of symmetric
products and second quantized strings, commun. math. phys. 185 (1997)197-209,
hep-th/9608096

[32] a. altman and s. kleiman, foundations of the theory of fano schemes, comp.

math. 34 (1977) 3.

[33] s. katz and s.a. strmme, schubert, a maple package for intersection theory in

algebraic geometry, http://www.math.okstate.edu/katz/schubert.html

[34] c. vafa, black holes and calabi-yau threefolds, adv.theor.math.phys.2 (1998)

207, hep-th/9711067

74

[35] t.-m. chiang, a. klemm, s.-t. yau, and e. zaslow, local mirror symmetry: cal-

culations and interpretations, hep-th/9903053.

[36] m. kontsevich and y. manin, gromov-witten classes, quantum cohomology and
enumerative geometry, commun. math. phys. 181 (1994) 763, p. di francesco and
c. itzykson, quantum intersections rings, hep-th/9412175, c. itzykson, counting
rational curves on rational surfaces, int. j. mod. phys. b8 (1994) 3703-3724

[37] n. nekrasov, in the woods of m-theory, hep-th/9810168
[38] b. harbourne, rational surfaces with k 2 > 0, proc. ams 124 (1996) 727733.
[39] s. katz, a. klemm and c. vafa, geometric engineering of quantum field theo-

ries,nucl.phys. b497 (1997) 173-195, hep-th/9609239

[40] j. a. minahan, d. nemechansky and n. p. warner, partition function for the bps
states of the non-critical e8 string, adv. theor. math.phys. 1 (1998) 167-183; hep-
th/9707149, j. a. minahan, d. nemechansky, c. vafa and n. p. warner, e-strings
and n = 4 topological yang-mills theories, nucl. phys. b527 (1998) 581-623.

[41] m. kontsevich, enumeration of rational curves via torus actions, in the mod-
uli space of curves, dijkgraaf et al eds., progress in mathematics 129, birkhauser
(boston) 1995, a. givental, a mirror theorem for toric complete intersections,
topological field theory, primitive forms and related topics (kyoto,1996), prog.
math. 160, 141-175; math.ag/9701016 b. lian, k. liu, and s.-t. yau, mirror prin-
ciple i& ii, asian j. of math. vol. 1 no. 4 (1997) 729-763; math.ag/9712011 &
math.ag/9905006.

[42] a. erdelyi, w. magnus, f. oberhettinger, f. tricomi, bateman project: higher tran-

scendental functions, vol 1

[43] a. klemm, p. mayr, and c. vafa, bps states of exceptional non-critical strings,

nucl. phys. b (proc. suppl.) 58 (1997) 177-194; hep-th/9607139.

[44] w. lerche, p. mayr, n.p. warner, nucl.phys. b499 (1997) 125-148
[45] d. ghoshal and c. vafa, c=1 string as the topological theory of the conifold,

nucl. phys. b453 (1995) 121.

[46] r. gopakumar and c. vafa, topological gravity as large n topological gauge

theory, adv.theor.math.phys. 2 (1998) 413-442, hep-th/9802016

[47] s. hosono, a. klemm, s. theisen and s.t. yau, mirror symmetry, mirror map
and applications to calabi-yau hypersurfaces, commun. math. phys. 167 (1995)
301-350, hep-th/9308122; and mirror symmetry, mirror map and applications to
calabi-yau hypersurfaces, nucl. phys. b433 (1995) 501-554, hep-th/9406055.

[48] r. hartshorne, algebraic geometry, springer-verlag, berlin 1977
[49] j. harris, curves in projective space, university of montreal press, 1982
[50] l. gruson and c. peskine, genre des courbes de lespace projectif, ii, ann. sci.

ens 15 (1982) 401418.

75

